/*! For license information please see app.1a44ba14f2dab0ec3c87.js.LICENSE.txt */
"use strict";(self.webpackChunkvast_redirect_signal_inspector=self.webpackChunkvast_redirect_signal_inspector||[]).push([[524],{196:()=>{},5814:(e,t,a)=>{var r=a(6540),s=a(5338),i=a(9828),n=a(7406),l=a(8373),o=a(6990),d=a(7716),p=a(779),m=a(6299),c=a(9428),u=a(8864),h=a(1641),g=a(2397),v=a(8532),_=a(3551);const A={WEB:"web",MOBILE_APP:"mobileApp",CONNECTED_TV:"connectedTV",AUDIO:"audio",DIGITAL_OUT_OF_HOME:"digitalOutOfHome"},y={IMA_SDK:"IMA SDK",PAL:"PAL",PAI:"PAI",STANDARD:"Standard",UNKNOWN:"Unknown"};class x{static ErrorCode={URL_EMPTY:"Empty URL.",INVALID_URL:"Invalid URL."};constructor(e){this.url=e}validate(){if(!this.url)return{success:!1,error:x.ErrorCode.URL_EMPTY,tagType:y.UNKNOWN};try{const e=new URL(this.url),t=e.hostname,a=e.pathname,r=e.searchParams;let s=y.UNKNOWN;return"pubads.g.doubleclick.net"===t||"securepubads.g.doubleclick.net"===t||t.endsWith(".corp.google.com")&&a.startsWith("/gampad/ads")?s=r.has("givn")||r.has("paln")?y.PAL:y.STANDARD:"serverside.doubleclick.net"===t&&r.has("ssss")?s=y.PAI:"pagead2.googlesyndication.com"===t&&r.has("sdkv")&&(s=y.IMA_SDK),{success:!0,tagType:s}}catch(e){return{success:!1,error:x.ErrorCode.INVALID_URL,error_message:e.message,tagType:y.UNKNOWN}}}}const f=x;class E{static ErrorCode={URL_EMPTY:"URL is empty.",PPSJ_PARSE_ERROR:"Error parsing ppsj parameter."};constructor(e){this.url=e}parse(){if(!this.url)return{success:!1,error:E.ErrorCode.URL_EMPTY};let e="";const t={},a=this.url.includes("?")?this.url.split("?")[1]:"";return a&&a.split("&").forEach((a=>{const[r,s]=a.split("="),i=decodeURIComponent(r),n=s?decodeURIComponent(s):"";if("cust_params"===i){const e=decodeURIComponent(n),a={};if(e.includes("&"))e.split("&").forEach((e=>{const[t,r]=e.split("=");a[decodeURIComponent(t)]=decodeURIComponent(r)}));else{const[t,r]=e.split("=");a[decodeURIComponent(t)]=decodeURIComponent(r)}t[i]=a}else if("ppsj"===i)try{const e=atob(n);t[i]=JSON.parse(decodeURIComponent(e))}catch(a){console.error("Error parsing ppsj:",a),e=E.ErrorCode.PPSJ_PARSE_ERROR,t[i]=n}else t[i]=decodeURIComponent(s)})),{success:!0,params:t,error:e}}}const P=E,T=JSON.parse('{"type":"audio","lastUpdated":"2025-03-06","parameters":{"required":["ad_type","correlator","env","gdfp_req","iu","output","url"],"programmatic":{"required":["idtype","is_lat","plcmt","rdid","vpa","vpmute"],"recommended":["aconp","an","dth","givn","hl","msid","omid_p","sid","vconp","vid_d","vpos","wta"]}}}'),C=JSON.parse('{"type":"connectedTV","lastUpdated":"2025-03-06","parameters":{"required":["correlator","env","gdfp_req","iu","output","sz","url"],"programmatic":{"required":["idtype","is_lat","ott_placement","plcmt","rdid","vpa","vpmute"],"recommended":["aconp","an","dth","givn","hl","msid","omid_p","sid","vconp","vid_d","vpos","wta"]}}}'),w=JSON.parse('{"type":"digitalOutOfHome","lastUpdated":"2025-03-06","parameters":{"required":["correlator","env","gdfp_req","iu","output","sz","url","vpmute"],"programmatic":{"required":["idtype","is_lat","plcmt","rdid","sid","venuetype"],"recommended":["aconp","an","dth","givn","hl","msid","omid_p"]}}}'),R=JSON.parse('{"type":"mobileApp","lastUpdated":"2025-03-06","parameters":{"required":["correlator","description_url","env","gdfp_req","iu","output","sz","url","vpmute"],"recommended":["unviewed_position_start"],"programmatic":{"required":["idtype","is_lat","ott_placement","plcmt","rdid","vpa"],"recommended":["aconp","an","dth","givn","hl","msid","omid_p","pvid","sid","vconp","vid_d","vpos","wta"]}}}'),b=JSON.parse('[{"name":"adWillAutoPlay","override":"vpa","description":"Indicates whether the ad will autoplay.","examples":["true","false"],"validation":"^(true|false)$"},{"name":"adWillPlayMuted","override":"vpmute","description":"Indicates whether the ad will play muted.","examples":["true","false"],"validation":"^(true|false)$"},{"name":"descriptionUrl","override":"description_url","description":"The URL of the page where the ad will be displayed.","examples":["https://www.example.com"],"validation":"^(https?|ftp)://[a-z0-9-]+(\\\\.[a-z0-9-]+)+([/?].*)?$"},{"name":"ppid","override":"ppid","description":"The publisher-provided identifier for the user.","examples":["12JD92JD8078S8J29SDOAKC0EF230337","12jd92jd8078s8j29sdoakc0ef230337","12Jd92jD8078s8j29sDoakc0ef230337","123e4567-e89b-12d3-a456-426614174000"],"validation":"^[0-9a-zA-Z+.=/_\\\\-$,{}]{22,150}$"},{"name":"omidPartnerName","override":"omid_p","description":"The name of the Open Measurement Interface Definition (OMID) partner.","examples":["examplepartnername"],"validation":"^[a-zA-Z0-9_]+$"},{"name":"omidPartnerVersion","override":"omid_p","description":"The version of the Open Measurement Interface Definition (OMID) partner.","examples":["1.0.0"],"validation":"^[0-9]+\\\\.[0-9]+\\\\.[0-9]+$"},{"name":"url","override":"url","description":"The URL of the ad request.","examples":["https://www.example.com/ad_request"],"validation":"^https?://[^\\\\s/$.?#].[^\\\\s]*$"},{"name":"continuousPlayback","override":"vconp","description":"Indicates whether the video player will continue playing after the ad.","examples":["true","false"],"validation":"^(true|false)$"}]'),I=JSON.parse('[{"name":"correlator","description":"A unique identifier for the ad request, which is used to ensure that ads are not repeated in the same session.","examples":["4345645667"],"validation":"^-?\\\\d+$","help":"https://support.google.com/admanager/answer/10678356?hl=en#correlator&zippy=%2Ccorrelator-correlator"},{"name":"description_url","description":"The URL of the page where the ad will be displayed.","examples":["https://www.example.com/page.html","https://www.example.org/play/serien/the-ad/1-ein-fehler-aendert-alles"],"validation":"^https?://[^\\\\s/$.?#].[^\\\\s]*$","help":"https://support.google.com/admanager/answer/10678356?hl=en#description_url&zippy=%2Cdescription-url-description-url"},{"name":"env","description":"The environment in which the ad will be displayed (e.g., web, app, or video).","examples":["instream","vp"],"validation":"^(instream|vp)$","help":"https://support.google.com/admanager/answer/10678356?hl=en#env&zippy=%2Cenv-environment"},{"name":"gdfp_req","description":"A flag that indicates whether the ad request is a Google Publisher Tag (GPT) request.","examples":["1"],"validation":"^1$","help":"https://support.google.com/admanager/answer/10678356?hl=en#gdfp_req&zippy=%2Cgdfp-req-schema-indicator"},{"name":"url","description":"The URL of the ad request.","examples":["https://www.example.com/ad_request"],"validation":"^https?://[^\\\\s/$.?#].[^\\\\s]*$","help":"https://support.google.com/admanager/answer/10678356?hl=en#url&zippy=%2Curl-url"},{"name":"iu","description":"The ad unit code that identifies the ad slot.","examples":["/1234567/sports","/network_code/ad_unit/sub_ad_unit","/network_code/ad_unit/sub_ad_unit.de","/network_code/ad_unit/sub_ad_unit.en/sport/f-1"],"validation":"^(/[a-zA-Z0-9_.-]+)+$","help":"https://support.google.com/admanager/answer/10678356?hl=en#iu&zippy=%2Ciu-ad-unit"},{"name":"output","description":"The output format of the ad (e.g., vmap, vast, or vpaid).","examples":["vast","vmap","xml_vmap1","xml_vast2","xml_vast3","xml_vast4","xml_vmap1_vast4","xml_vmap1","xml_vmap1_vast3"],"validation":"^(vast(_[2-4])?|vmap(_[1])?|xml_vast[2-4]|xml_vmap[1](_vast[3-4])?(_vpaid)?|vpaid)$","help":"https://support.google.com/admanager/answer/10678356?hl=en#output&zippy=%2Coutput-output"},{"name":"sz","description":"The size of the ad unit (e.g., 300x250, 728x90, or 160x600).","examples":["300x250","300x250|400x300"],"validation":"^(\\\\d+x\\\\d+)(\\\\|\\\\d+x\\\\d+)*$","help":"http://support.google.com/admanager/answer/10678356?hl=en#sz&zippy=%2Csz-size"},{"name":"unviewed_position_start","description":"The position at which the ad will start playing if it is not in view.","examples":["1"],"validation":"^\\\\d+$"},{"name":"ppid","description":"The publisher-provided identifier for the user.","examples":["12JD92JD8078S8J29SDOAKC0EF230337","12jd92jd8078s8j29sdoakc0ef230337","12Jd92jD8078s8j29sDoakc0ef230337","123e4567-e89b-12d3-a456-426614174000"],"validation":"^[0-9a-zA-Z+.=/_\\\\-$,{}]{22,150}$","help":"https://support.google.com/admanager/answer/2880055?hl=en"},{"name":"ssss","description":"The server-side stitching source.","examples":["vast_url_validator_test"],"validation":"^[a-z_]+$","help":"https://support.google.com/admanager/answer/10668760?hl=en"},{"name":"idtype","description":"The type of identifier used to track the user.","examples":["adid","afai","idfa","lgudid","msai","rida","tifa","tvOS","vaid","vida"],"validation":"^(adid|afai|idfa|lgudid|msai|rida|tifa|tvOS|vaid|vida)$","help":"https://support.google.com/admanager/answer/6238701?hl=en"},{"name":"is_lat","description":"A flag that indicates whether the user has opted out of ad personalization.","examples":["0","1"],"validation":"^(0|1)$","help":"https://support.google.com/admanager/answer/6238701?hl=en"},{"name":"rdid","description":"A resettable device identifier that can be updated by the user at any time.","examples":["123e4567-e89b-12d3-a456-426614174000"],"validation":"^[0-9a-f]{8}-[0-9a-f]{4}-[0-9a-f]{4}-[0-9a-f]{4}-[0-9a-f]{12}$","help":"https://support.google.com/admanager/answer/6238701?hl=en"},{"name":"vpmute","description":"A flag that indicates whether the video player is muted.","examples":["0","1"],"validation":"^(0|1)$"},{"name":"vpa","description":"Indicates whether video content in an ad starts through autoplay or click","examples":["auto","click"],"validation":"^(auto|click)$"},{"name":"wta","description":"Indicates the video player\'s support for rendering ad badging \'Why this ad?\'","examples":["0","1"],"validation":"^(0|1)$"},{"name":"hl","description":"The language of the ad request.","examples":["en","de","deu","ger","fr"],"validation":"^(?!.*(.)\\\\1)[a-z]{2,3}$"},{"name":"aconp","description":"Indicates whether the player intends to continuously play audio content.","examples":["0","1","2"],"validation":"^(0|1|2)$"},{"name":"dth","description":"The device type hint parameter helps reduce device misclassification, specifically on connected TV and set top box environments.","examples":["1","2","3","4","5","6","7"],"validation":"^(1|2|3|4|5|6|7)$"},{"name":"plcmt","description":"The placement type parameter helps identify the type of ad placement.","examples":["1","2"],"validation":"^(1|2)$"},{"name":"msid","description":"App ID parameter helps identify the app where the ad will be displayed.","examples":["com.package.publisher","com.publisher.deviceplatform","com.tubitv"],"validation":"^[a-z]{2,3}\\\\.[a-z]+(\\\\.[a-z]+)?$"},{"name":"ciu_szs","description":"The size of the companion ad unit (e.g., 300x250, 728x90, or 160x600).","examples":["300x250","300x250|400x300","728x90,300x200|300x250","fluid|728x90,fluid|300x250,fluid|180x150,fluid|120x60,fluid|88x31,fluid|300x60,fluid|300x100,fluid|320x50,fluid|468x60,fluid|300x600,fluid|160x600"],"validation":"^(fluid|\\\\d+x\\\\d+)(\\\\|(fluid|\\\\d+x\\\\d+))*?(,(fluid|\\\\d+x\\\\d+)(\\\\|(fluid|\\\\d+x\\\\d+))*?)*$"},{"name":"gdpr_consent","description":"The GDPR consent string.","examples":["BOEFEAyOEFEAyAHA.BDENAI4AAAB9vABA_ASA"],"validation":"^[A-Za-z0-9\\\\.\\\\-_~]{20,2000}$","help":"https://support.google.com/admanager/answer/9805023?hl=en"},{"name":"ott_placement","description":"The OTT placement parameter helps identify the type of OTT ad placement.","examples":["1","2","3","4","5","99"],"validation":"^(1|2|3|4|5|99)$","help":"https://support.google.com/admanager/answer/10678356?hl=en#ott_placement&zippy=%2Cott-placement-ott-placement"},{"name":"givn","description":"Programmatic Access Library (PAL) nonce parameter.","examples":["AQzzBGQESh0MfW7LFqGLz9GePWVVUAgC5JabPBXGhnX7y_r59X7WD5azuX2RAyrTRlRYgW2EATaB7otaVj9xHqlo5oeeBrrmYrcNpeEsPL9OnK1sB8Gr4xzEZniqv0BnSrgpcFF4Rx9dbtUFV1wki7M2Yz3tJo7Sd7KMMBWMrGpoNcj-7IPbYbBGW8raYln0GDj2Bk-pJEBJZL1obkVS7w7zfT4i6BFqCJPyhPibox84ZRrsasRT97TREUmZ9c_VLjehwt9MrV3fmjqnRaYUJ1EU_4-64p4fxaStEc6JGZhFHSokoZihaysiRGqIYiSRLlmVHA6OUUSnoY45rCVoAtK_8AEoJFjyQQ3s8p2haTdB8xqe7aP7hq3S97a7ipWJ75GueL0REUP9oqfvMP1RwBdBSDN-9UV83bxjyA5GpsdK3NLCJskqyjfCyhrPy6R0xZ-SjI85e395zjft2RTWm38MUUmp9ES0NXFQC1G0G67gI0zwg2M-f0M5LUy9pqPAfgDyW73qQChID2yuUtONJxjIOq1OnyZ1eOqKX8CDcoPIj2jKsuQgqAPpElUP6TgH0_h-RP3LVYEy_BhO9lyiLodBKxIwztj_JGUZYNqb4tVrpwF1EY_DQayIgmrEeKZXfP-UwfhVloOPjOwAeiK0HkFb0krIqCnxVVlqN_ttlBLAE6foMfQtlEHhzzXkBccaWcr5pVTyZy-9an09KtaLlooDEGVj0JYFeJfSkGoqvH8FyGTYXf6f2rIJKi9DRvm-f-7rIops0fJvEFSM5YgeOFbq1H-NOTsA3MPgiyxdZ8BAnU3acr2u35DZaIxg6sbHZ5HQV_LAfUkmqJJ2cb9p4iPhI0YTHoLODF1OLpAQhj4E0r-kVTMElp9rxSgzgYUzzJA6sM2nE6QYU_qhc-2SgWemz2upuW3aBAmElxrXWA9st4FHLMJrrs9krrwCMkB6YWsRVXsZpZqxwDkbvlwrFcLLgExnbSDbsAfIlN5NYI1LV77yP9kNpYpqwghKQjeuOB53HhPhARw-FNAoRA1UkgRD8C61CF68xoNGxTeIbiDE5DIw1xoHFhypIPhUgfQ6VlD2SrIseBX7HE6BxMStdQK4385aGHBLDj_jIHgBZqYpEV56AKMIUOTz8vLxo2_R_o_WLQL-_8XE8YSYMvmnXzHMzjUQO1uNXwF73hriQFQxW4_S7EsqMEqI3cyL-_e0VTf05sdfiBupih9u45PeXG68EILeaG30osYZ2TcvT7LnHKyiJRdCB5zE2Un1V3oFv13c9Fqmr7mkUGLPe1fJDYTfrzenMvizFVB5_9hB_gahjHUiKPpDCGsGFmiB31OrdLcArde36SPsZ1KDOubHC0O9_A6eCgAfPie8rZ4WPubXkIGw_d7_"],"validation":"^[A-Za-z0-9\\\\-_]{100,}(?:={0,2}|[.]{1,2})?$","help":"https://support.google.com/admanager/answer/10678356?hl=en#givn&zippy=%2Cgivn-givn"},{"name":"vconp","description":"Indicates whether the player intends to continuously play video content.","examples":["1","2"],"validation":"^(1|2)$","help":"https://support.google.com/admanager/answer/10678356?hl=en#vconp&zippy=%2Cvconp-video-continuous-play"},{"name":"vpos","description":"The position of the ad in the video content.","examples":["preroll","midroll","postroll"],"validation":"^(preroll|midroll|postroll)$","help":"https://support.google.com/admanager/answer/10678356?hl=en#vpos&zippy=%2Cvpos-video-position"}]'),S=JSON.parse('{"type":"web","lastUpdated":"2025-03-06","parameters":{"required":["correlator","description_url","env","gdfp_req","iu","output","sz","url"],"recommended":["unviewed_position_start"],"programmatic":{"required":["ott_placement","plcmt","vpa","vpmute"],"recommended":["aconp","dth","givn","hl","omid_p","vconp","vid_d","vpos","wta"]}}}');const O=class{constructor(e=""){this._url=e,this._date=new Date,this._parameters={required:{},optional:{},programmatic:{required:{},recommended:{}},other:{},special:{}}}get url(){return this._url}get date(){return this._date}get parameters(){return this._parameters}get requiredParameters(){return this._parameters.required}get optionalParameters(){return this._parameters.optional}get programmaticRequiredParameters(){return this._parameters.programmatic.required}get programmaticRecommendedParameters(){return this._parameters.programmatic.recommended}get otherParameters(){return this._parameters.other}set requiredParameters(e){this._parameters.required=e}set optionalParameters(e){this._parameters.optional=e}set programmaticRequiredParameters(e){this._parameters.programmatic.required=e}set programmaticRecommendedParameters(e){this._parameters.programmatic.recommended=e}set otherParameters(e){this._parameters.other=e}set specialParameters(e){this._parameters.special=e}};const k=class{constructor(e,t="",a=0){this._name=e,this._value=t,this._score=a,this._exists=!1,this._valid=!1,this._override=!1}get name(){return this._name}get value(){return this._value}get score(){return this._score}set score(e){this._score=e}get exists(){return this._exists}set exists(e){this._exists=e}get valid(){return this._valid}set valid(e){this._valid=e}get override(){return this._override}set override(e){this._override=e}};class D{static ErrorCode={PARAMETERS_EMPTY:"Parameters are empty."};static DefaultScore={OPTIONAL_PARAM:.5,OPTIONAL_PARAM_MISSING:0,OPTIONAL_PARAM_VALIDATED:1,REQUIRED_PARAM:4,REQUIRED_PARAM_MISSING:-5,REQUIRED_PARAM_VALIDATED:5};constructor(e,t,a,r){this.vastURL=e,this.vastParams=t,this.vastTagType=a,this.implementationType=r,this.state={analysisResult:null,metadata:null,vastAdTagParameters:null,webValidationRules:null}}analyze(){if(!this.vastParams||0===Object.keys(this.vastParams).length)return{success:!1,error:D.ErrorCode.PARAMETERS_EMPTY};console.info("Analyzing",this.vastTagType,"VAST URL ",this.vastURL,"for",this.implementationType,"with",this.vastParams);let e={};this.implementationType==A.WEB?e=JSON.parse(JSON.stringify(S)):this.implementationType==A.MOBILE_APP?e=JSON.parse(JSON.stringify(R)):this.implementationType==A.CONNECTED_TV?e=JSON.parse(JSON.stringify(C)):this.implementationType==A.AUDIO?e=JSON.parse(JSON.stringify(T)):this.implementationType==A.DIGITAL_OUT_OF_HOME&&(e=JSON.parse(JSON.stringify(w)));const t=e.parameters.required,a=e.parameters.programmatic.required,r=e.parameters.programmatic.recommended,s=[];this.vastTagType==y.IMA_SDK?(r.includes("dth")&&r.splice(r.indexOf("dth"),1),r.includes("givn")&&r.splice(r.indexOf("givn"),1)):this.vastTagType==y.PAI?(t.includes("ssss")||t.push("ssss"),t.includes("ip")||t.push("ip")):this.vastTagType==y.PAL&&(t.includes("givn")||t.push("givn"),b.forEach((e=>s.push(e.override)))),!a.includes("ott_placement")||"preroll"!==this.vastParams.vpos&&"midroll"!==this.vastParams.vpos&&"postroll"!==this.vastParams.vpos||(a.splice(a.indexOf("ott_placement"),1),r.push("ott_placement"));const i=this.validateRequiredParameters(this.vastParams,t,s),n=this.validateRequiredParameters(this.vastParams,a.filter((e=>!t.includes(e))),s),l=this.validateOptionalParameters(this.vastParams,r.filter((e=>!t.includes(e)&&!a.includes(e))),s),o=this.validateOptionalParameters(this.vastParams,Object.keys(this.vastParams).filter((e=>!t.includes(e)&&!a.includes(e)&&!r.includes(e))),s),d=new O(this.vastURL);return d.requiredParameters=i,d.programmaticRequiredParameters=n,d.programmaticRecommendedParameters=l,d.otherParameters=o,d.specialParameters={},console.log("Analysis Result",d),{success:!0,analysisResult:d}}validateRequiredParameters(e,t,a=[]){return this.validateParameters(e,t,!1,a)}validateOptionalParameters(e,t,a=[]){return this.validateParameters(e,t,!0,a)}validateParameters(e,t,a=!1,r=[]){const s={params:{},score:0,missing:0,invalid:0,overridden:0,valid:0,total:t.length};return t.forEach((t=>{const i=I.find((e=>e.name===t)),n=i?i.validation:null,l=Array.isArray(r)&&r.includes(t),o=new k(t,e[t]);if(s.params[t]=o,t in e)if(n){new RegExp(n).test(e[t])?(console.info("Validated parameter",t,":",e[t]),o.score=a?D.DefaultScore.OPTIONAL_PARAM_VALIDATED:D.DefaultScore.REQUIRED_PARAM_VALIDATED,o.exists=!0,o.valid=!0,s.valid++):(console.warn("Invalid parameter value",t,e[t]),o.score=a?D.DefaultScore.OPTIONAL_PARAM_MISSING:D.DefaultScore.REQUIRED_PARAM_MISSING,o.exists=!0,o.valid=!1,s.invalid++)}else console.warn("Missing validation for parameter",t),o.score=a?D.DefaultScore.OPTIONAL_PARAM:D.DefaultScore.REQUIRED_PARAM,o.exists=!0,o.valid=!0,s.valid++;else console.error("Missing parameter",t),o.score=a?D.DefaultScore.OPTIONAL_PARAM_MISSING:D.DefaultScore.REQUIRED_PARAM_MISSING,o.exists=!1,o.valid=!1,s.missing++;l&&(o.override=!0,o.score=2.5,s.overridden++),s.score+=o.score})),s}}const L=D;var U=a(9799),z=a(2794),q=a(4545),N=a(4137),M=a(3884),F=a(4774),j=a(3198),J=a(6627),V=a(6798),B=a(4155),G=a(1848),W=a(3939),H=a(6317),Y=a(6114),K=a(9211);const Q=(0,G.Ay)(j.A)((({theme:e})=>({marginBottom:e.spacing(3),boxShadow:e.shadows[3]}))),$=(0,G.Ay)(J.A)((({theme:e})=>({backgroundColor:e.palette.primary.main,fontWeight:"bold","& .MuiTableCell-root":{color:e.palette.common.white}}))),Z=(0,G.Ay)(F.A)((({theme:e})=>({padding:e.spacing(2)}))),X=(0,G.Ay)(V.A)((({theme:e})=>({"&:nth-of-type(odd)":{backgroundColor:e.palette.action.hover}})));class ee extends r.PureComponent{constructor(e){super(e)}getVastAdTagParameterDescription=e=>{if(!I)return"";for(const t of I)if(t.name===e)return t.description;return""};getVastAdTagParameterHelp=e=>{if(!I)return"";for(const t of I)if(t.name===e)return t.help;return""};renderTable=(e,t)=>e?r.createElement("div",{style:{marginBottom:"20px"}},r.createElement(_.A,{variant:"h6",gutterBottom:!0},t),r.createElement(Q,{component:B.A},r.createElement(N.A,null,r.createElement($,null,r.createElement(V.A,null,r.createElement(Z,{sx:{width:"25px"}},"Status"),r.createElement(Z,{sx:{width:"50px"}},"Parameter"),r.createElement(Z,{sx:{width:"15px"}}),r.createElement(Z,null,"Value"),r.createElement(Z,{sx:{width:"50px"}},"Score"))),r.createElement(M.A,null,Object.values(e.params).map((e=>r.createElement(X,{key:e.name,style:{position:"relative"}},r.createElement(Z,{sx:{width:"50px"}},e.exists?e.valid?r.createElement(g.A,{title:"Valid"},r.createElement(K.A,{style:{color:"green"}})):r.createElement(g.A,{title:"Warning: Invalid"},r.createElement(Y.A,{style:{color:"orange"}})):r.createElement(g.A,{title:"Missing"},r.createElement(H.A,{style:{color:"red"}}))),r.createElement(Z,null,r.createElement(g.A,{title:this.getVastAdTagParameterDescription(e.name)},e.name)),r.createElement(Z,null,this.getVastAdTagParameterHelp(e.name)&&r.createElement("a",{href:this.getVastAdTagParameterHelp(e.name),target:"_blank",rel:"noreferrer"},r.createElement(W.A,{style:{fontSize:"1rem",marginLeft:"5px"}}))),r.createElement(Z,null,e.value&&"object"==typeof e.value?Object.keys(e.value).length>0?r.createElement(U.A,{dense:!0},Object.entries(e.value).map((([e,t])=>r.createElement(z.Ay,{key:e,disablePadding:!0},r.createElement(q.A,{primary:r.createElement(_.A,{variant:"body2",component:"span",fontWeight:"bold"},e,":"),secondary:"object"==typeof t?r.createElement(_.A,{variant:"body2",component:"span"},JSON.stringify(t)):r.createElement(_.A,{variant:"body2",component:"span"},t)}))))):r.createElement(_.A,{variant:"body2",component:"span"}):r.createElement(_.A,{variant:"body2",component:"span"},void 0!==e.value&&null!==e.value?e.value:"N/A")),r.createElement(Z,null,e.score),e.override&&r.createElement("div",{style:{position:"absolute",top:0,left:0,width:"100%",height:"100%",backgroundColor:"rgba(255, 255, 255, 0.8)",display:"flex",justifyContent:"center",alignItems:"center",zIndex:1,fontSize:"0.8rem"}},"Overridden by the PAL SDK Nonce !")))))))):null;render(){const{data:e}=this.props,t=e||{};return r.createElement("div",null,this.renderTable(t.requiredParameters,"Required Parameters"),this.renderTable(t.programmaticRequiredParameters,"Required Programmatic Parameters"),this.renderTable(t.programmaticRecommendedParameters,"Recommended Programmatic Parameters"),this.renderTable(t.otherParameters,"Other Parameters"))}}const te=ee;var ae=a(4654),re=a(1694),se=a(6941),ie=a(7324),ne=a(8766),le=a(2685),oe=a(7449),de=a(8480),pe=a(6634);class me extends r.Component{constructor(e){super(e)}getScoreColor(e){return e<=0?"danger":e<25?"warning":e<50?"neutral":e<75?"primary":"success"}getProgrammaticRequiredColor(e){return e<=0?"danger":e<25?"warning":e<50?"neutral":e<75?"primary":"success"}render(){const{data:e}=this.props,t=e||{},a=t?Math.floor(t.requiredParameters.valid/t.requiredParameters.total*100):0,s=t?Math.floor(t.programmaticRequiredParameters.valid/t.programmaticRequiredParameters.total*100):0,i=t?Math.floor(t.programmaticRecommendedParameters.valid/t.programmaticRecommendedParameters.total*100):0,n=t?t.requiredParameters.score+t.programmaticRequiredParameters.score+t.programmaticRecommendedParameters.score:0;return r.createElement(de.A,{container:!0,spacing:5,direction:"row",alignItems:"center",justifyContent:"center"},r.createElement(de.A,{size:3},r.createElement(pe.A,{sx:{"--CircularProgress-trackThickness":"20px","--CircularProgress-size":"150px","--CircularProgress-progressThickness":"25px"},variant:"soft",determinate:!0,value:n,color:this.getScoreColor(n)},n," "),r.createElement(_.A,{variant:"h5"},"Total Score")),r.createElement(de.A,{size:3},r.createElement(pe.A,{sx:{"--CircularProgress-trackThickness":"20px","--CircularProgress-size":"150px","--CircularProgress-progressThickness":"25px"},variant:"soft",determinate:!0,value:a,color:a<100?"danger":"success"},a,"%"),r.createElement(_.A,{variant:"h5"},"Required")),r.createElement(de.A,{size:3},r.createElement(pe.A,{sx:{"--CircularProgress-trackThickness":"20px","--CircularProgress-size":"150px","--CircularProgress-progressThickness":"25px"},variant:"soft",determinate:!0,value:s,color:this.getProgrammaticRequiredColor(s)},s,"%"),r.createElement(_.A,{variant:"h5"},"Programmatic")),r.createElement(de.A,{size:3},r.createElement(pe.A,{sx:{"--CircularProgress-trackThickness":"20px","--CircularProgress-size":"150px","--CircularProgress-progressThickness":"25px"},variant:"soft",determinate:!0,value:i},i,"%"),r.createElement(_.A,{variant:"h5"},"Recommended")))}}const ce=me,ue={[y.IMA_SDK]:"https://pagead2.googlesyndication.com/gampad/ads?iu=%2F21775744923%2Fexternal%2Fsingle_ad_samples&sz=640x480&cust_params=sample_ct%3Dlinear&ciu_szs=fluid%7C728x90%2Cfluid%7C300x250%2Cfluid%7C180x150%2Cfluid%7C120x60%2Cfluid%7C88x31%2Cfluid%7C300x60%2Cfluid%7C300x100%2Cfluid%7C320x50%2Cfluid%7C468x60%2Cfluid%7C300x600%2Cfluid%7C160x600&gdfp_req=1&output=xml_vast4&unviewed_position_start=1&env=vp&correlator=2920090807217010&sdkv=h.3.688.0&osd=2&frm=0&vis=1&sdr=1&hl=en&afvsz=200x200%2C250x250%2C300x250%2C450x50%2C468x60%2C480x70&is_amp=0&uach=WyJtYWNPUyIsIjE1LjMuMSIsImFybSIsIiIsIjEzMy4wLjY5NDMuMTQzIixudWxsLDAsbnVsbCwiNjQiLFtbIk5vdChBOkJyYW5kIiwiOTkuMC4wLjAiXSxbIkdvb2dsZSBDaHJvbWUiLCIxMzMuMC42OTQzLjE0MyJdLFsiQ2hyb21pdW0iLCIxMzMuMC42OTQzLjE0MyJdXSwwXQ..&u_so=l&ctv=0&mpt=h5_vsi&sdki=445&ptt=20&adk=1083529519&sdk_apis=2%2C7%2C8&omid_p=Google1%2Fh.3.688.0&media_url=https%3A%2F%2Fs0.2mdn.net%2F4253510%2Fgoogle_ddm_animation_480P.mp4&sid=143B1AB4-F655-425F-B5C2-D49BC807C875&nel=1&td=1&eid=95322027%2C95326337%2C95331589%2C95332046%2C95351091&ref=https%3A%2F%2Fwww.google.com%2F&url=https%3A%2F%2Fgoogleads.github.io%2Fgoogleads-ima-html5%2Fvsi%2F&dlt=1741201107292&idt=496&dt=1741201112814&pvsid=342258371105668&scor=768096627554145",[y.PAL]:"https://pubads.g.doubleclick.net/gampad/ads?iu=/21775744923/external/single_ad_samples&sz=640x480&cust_params=sample_ct%3Dlinear&ciu_szs=300x250%2C728x90&gdfp_req=1&output=vast&unviewed_position_start=1&env=vp&impl=s&givn=AQzzBGQEVGjRW4svCeU1wKejaeWhATJKF8aSNC5L1tYtef8HbnrkSGMNeJ_9T2TlaiR1_a3raO06REP-0GXOufeAFhKUqEGb1jr_GnFF2JPkIb2XSoHFulgoqv_LT-eSbtLoyvth8twEDkitZc_x5oG7ZeM5HG9p0uN7PsxNozcRzSKJ0YR8r3piDMICB0dHo3QinJJe8WbesSgoTC3sLMnSZPxyKr9HO_PNq01x6S9wdaoPSomG6yBt-zu19Sb-PmILZa4Pax0P_moNAZHLTo7RIaPHeCj3qTdLVplhhC2lWwFLrSiHXeDefaoi4sl4elyvItt6KKGoRjAAwQAuyDNFWxGMghrGF5Z0N7-BANG7dutg-K78XPB9m5SBCEYPU_lFrGjs9zii9QxKPpj7pkn-4FuEov6jXwuYG1TRHLjYFrHR4uYDgeIDwWFGyIxIpsFUESrjO2BqP5EZ7F_TOJ98-TkaoV4B0_da60y08VZZqOT0n_hxZDlPDzxCNFRWdBoFEN7PLR_4N-t0Tm0PuJgiWiye0W5_7HXyiTvIEgdFiiLwwmFsB5d72vUaKYJi1HOc9eJSEjC7YOG6ag0kqP1C61dW1BAVuAb0OFR5UJk0zA10cjgQULeHvC0BCIvLL5qcxBKEvUCHmV4RC6oe4bk3u3tVwe7lynNjFbNvAitgbbJum_38R_8V1dYNj-YGApbIuq4nfD9PWQpHodG2c9TfFhOufJ6MDeVaJPCFF9bprUf63MqPmGGjV4-sBW0GUizqRc6XMkdp3pt1cpVli6jqHqDV4tYvfXS9pLgXbdR9u3YaFK2rZQWphq5JClbWWvPAOsesmHTtRXQ6SlJR_dLd2GPfIR3HO3Y7qATwiRiYXkFFTw..&correlator=",[y.PAI]:"https://serverside.doubleclick.net/gampad/ads?iu=/21775744923/external/single_ad_samples&sz=640x480&cust_params=sample_ct%3Dlinear&ciu_szs=300x250%2C728x90&gdfp_req=1&output=vast&unviewed_position_start=1&env=vp&impl=s&ssss=vast_url_validator_test&ip=1.2.3.4&correlator=",[y.STANDARD]:"https://pubads.g.doubleclick.net/gampad/ads?iu=/21775744923/external/single_ad_samples&sz=640x480&cust_params=sample_ct%3Dlinear&ciu_szs=300x250%2C728x90&gdfp_req=1&output=vast&unviewed_position_start=1&env=vp&impl=s&correlator="};class he extends r.Component{constructor(e){super(e),this.state={vastRedirectURL:"",vastTagType:y.UNKNOWN,detectedVastTagType:y.UNKNOWN,implementationType:A.WEB,vastParameters:{},analysisResult:null,error:null},this.handleAnalyzeClick=this.handleAnalyzeClick.bind(this),this.handleChange=this.handleChange.bind(this),this.validateUrl=this.validateUrl.bind(this),this.handleTagTypeChange=this.handleTagTypeChange.bind(this),this.handleImplementationTypeChange=this.handleImplementationTypeChange.bind(this),this.handleToolbarClick=this.handleToolbarClick.bind(this),this.handleExampleClick=this.handleExampleClick.bind(this)}componentDidMount(){const e=new URLSearchParams(window.location.search).get("redirect");e&&this.setState({vastRedirectURL:e},(()=>{this.validateUrl(e),this.analysisResult()}))}handleChange(e){const t=e.target.value;this.setState({vastRedirectURL:t},(()=>{this.validateUrl(t)}))}validateUrl(e){const t=new f(e).validate();t.success?this.setState({error:null,detectedVastTagType:t.tagType,vastTagType:t.tagType}):this.setState({error:t.error,detectedVastTagType:t.tagType,vastTagType:t.tagType})}handleTagTypeChange(e){this.setState({vastTagType:e.target.value,isAnalyzeButtonDisabled:!1},(()=>{this.analysisResult()}))}handleImplementationTypeChange(e){this.setState({implementationType:e.target.value},(()=>{this.analysisResult()}))}handleAnalyzeClick(e){e.preventDefault(),this.analysisResult()}async analysisResult(){const{vastRedirectURL:e}=this.state,t=new P(e).parse();if(!t.success)return void await new Promise((e=>{this.setState({error:t.error,vastParameters:{},analysisResult:{}},e)}));await new Promise((e=>{this.setState({vastParameters:t.params},e)}));const a=new L(e,t.params,this.state.vastTagType,this.state.implementationType).analyze();a.success?await new Promise((e=>{this.setState({analysisResult:a.analysisResult},e)})):await new Promise((e=>{this.setState({error:a.error,analysisResult:{}},e)}))}handleToolbarClick(e,t){switch(e.preventDefault(),t){case"Home":window.location.href="/vast-redirect-signal-inspector/";break;case"Source":window.open("https://github.com/google-marketing-solutions/vast-redirect-signal-inspector");break;case"Issues":window.open("https://github.com/google-marketing-solutions/vast-redirect-signal-inspector/issues")}}handleExampleClick(e){e.preventDefault();const{vastTagType:t}=this.state;console.log(t);const a=ue[t];a&&this.setState({vastRedirectURL:a},(()=>{this.validateUrl(a),this.analysisResult()}))}render(){const{error:e,detectedVastTagType:t,implementationType:a,vastTagType:s,vastRedirectURL:x,analysisResult:f}=this.state,E=s&&t&&x&&s!==t,P=[{name:"Home",icon:r.createElement(re.A,null)},{name:"Source",icon:r.createElement(ie.A,null)},{name:"Issues",icon:r.createElement(le.A,null)},{name:"Help",icon:r.createElement(ne.A,null)},{name:"About",icon:r.createElement(se.A,null)}];return r.createElement(n.A,{sx:{display:"flex"}},r.createElement(i.A,{component:"nav"},r.createElement(v.A,null,r.createElement(h.A,{color:"inherit","aria-label":"open drawer",edge:"start",onClick:()=>{},sx:{mr:2,display:{sm:"none"}}},r.createElement(ae.A,null)),r.createElement(_.A,{variant:"h5",component:"div",sx:{flexGrow:1,display:{xs:"none",sm:"block",verticalAlign:"middle"}}},r.createElement("img",{src:"https://raw.githubusercontent.com/google-marketing-solutions/vast-redirect-signal-inspector/main/assets/png/logo_home.png",alt:"Logo",style:{height:"0.7em",width:"auto",verticalAlign:"middle",margin:"0 10px 5px 0"}}),"VAST Signal Inspector",r.createElement("span",{style:{backgroundColor:"#e0e0e0",color:"#333",padding:"2px 5px",borderRadius:"3px",fontSize:"0.7em",marginLeft:"5px"}},"Beta")),r.createElement(n.A,{sx:{display:{xs:"none",sm:"block"}}},P.map((e=>r.createElement(o.A,{key:e.name,sx:{color:"#fff",gap:1},onClick:t=>this.handleToolbarClick(t,e.name)},e.icon,e.name)))))),r.createElement(n.A,{component:"main",sx:{flexGrow:1}},r.createElement(v.A,null),r.createElement(l.A,{maxWidth:"lg",sx:{mt:5,display:"flex",flexDirection:"column",minHeight:"100vh"}},r.createElement(n.A,{sx:{display:"flex",alignItems:"center",width:"100%",mb:2}},r.createElement(d.A,{label:"Vast Redirect URL",value:x,variant:"outlined",fullWidth:!0,sx:{mr:2},onChange:this.handleChange}),r.createElement(o.A,{variant:"contained",color:"primary",size:"large",onClick:this.handleAnalyzeClick,disabled:!x||f&&Object.keys(f).length>0&&x===f.url},"Analyze")),r.createElement(n.A,{sx:{display:"flex",alignItems:"center",justifyContent:"center",mb:2}},r.createElement(p.A,{component:"fieldset",sx:{display:"inline-flex"}},r.createElement(n.A,{sx:{display:"flex",alignItems:"center",justifyContent:"space-between"}},E&&r.createElement(g.A,{title:"Manually selected tag type does not match the automatically detected tag type."},r.createElement(h.A,{"aria-label":"warning",color:"warning"},r.createElement(oe.A,null))),r.createElement(c.A,{"aria-label":"vast-tag-type",name:"vastTagType",value:s,onChange:this.handleTagTypeChange,row:!0},Object.values(y).map((e=>r.createElement(u.A,{key:e,value:e,control:r.createElement(m.A,null),label:e.replace(/_/g," ").replace(/\b\w/g,(e=>e.toUpperCase()))})))),r.createElement(o.A,{variant:"outlined",onClick:this.handleExampleClick,sx:{ml:2},disabled:s===y.UNKNOWN||x===ue[s]},"Load Example")))),r.createElement(p.A,{component:"fieldset",sx:{display:"flex",alignItems:"center",justifyContent:"center",mb:2}}," ",r.createElement(_.A,{variant:"body1"},"Implementation Type:"),r.createElement(c.A,{"aria-label":"implementation-type",name:"implementationType",value:a,onChange:this.handleImplementationTypeChange,row:!0},Object.values(A).map((e=>r.createElement(u.A,{key:e,value:e,control:r.createElement(m.A,null),label:e.replace(/_/g," ").replace(/\b\w/g,(e=>e.toUpperCase()))}))))),e&&r.createElement(_.A,{color:"error"},e),f&&Object.keys(f).length>0&&r.createElement(ce,{data:f}),f&&Object.keys(f).length>0&&r.createElement(te,{data:f}))))}}const ge=he;s.createRoot(document.getElementById("app")).render(r.createElement(r.StrictMode,null,r.createElement(ge,null)))}},e=>{var t=t=>e(e.s=t);e.O(0,[587],(()=>(t(5814),t(196))));e.O()}]);