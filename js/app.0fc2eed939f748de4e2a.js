/*! For license information please see app.0fc2eed939f748de4e2a.js.LICENSE.txt */
"use strict";(self.webpackChunkvast_redirect_signal_inspector=self.webpackChunkvast_redirect_signal_inspector||[]).push([[524],{40196:()=>{},60345:(e,t,a)=>{var r=a(96540),s=a(5338),n=a(35745),i=a(60431),o=a(62499),l=a(96224),c=a(87788),d=a(27629),p=a(88225),m=a(1812);const u={WEB:"web",MOBILE_APP:"mobileApp",CONNECTED_TV:"connectedTV",AUDIO:"audio",DIGITAL_OUT_OF_HOME:"digitalOutOfHome"},h={IMA_SDK:"IMA SDK",PAL:"PAL",PAL_LEGACY:"PAL (legacy)",PAI:"PAI",PAI_PAL:"PAI + PAL",STANDARD:"Standard",UNKNOWN:"Unknown"},g={NAME:"test_source",VALUE:"vast_signal_inspector_2.3.0"},A={[h.IMA_SDK]:"https://pagead2.googlesyndication.com/gampad/ads?iu=%2F21775744923%2Fexternal%2Fsingle_ad_samples&sz=640x480&cust_params=sample_ct%3Dlinear&ciu_szs=fluid%7C728x90%2Cfluid%7C300x250%2Cfluid%7C180x150%2Cfluid%7C120x60%2Cfluid%7C88x31%2Cfluid%7C300x60%2Cfluid%7C300x100%2Cfluid%7C320x50%2Cfluid%7C468x60%2Cfluid%7C300x600%2Cfluid%7C160x600&gdfp_req=1&output=xml_vast4&unviewed_position_start=1&env=vp&correlator=2920090807217010&sdkv=h.3.688.0&osd=2&frm=0&vis=1&sdr=1&hl=en&afvsz=200x200%2C250x250%2C300x250%2C450x50%2C468x60%2C480x70&is_amp=0&uach=WyJtYWNPUyIsIjE1LjMuMSIsImFybSIsIiIsIjEzMy4wLjY5NDMuMTQzIixudWxsLDAsbnVsbCwiNjQiLFtbIk5vdChBOkJyYW5kIiwiOTkuMC4wLjAiXSxbIkdvb2dsZSBDaHJvbWUiLCIxMzMuMC42OTQzLjE0MyJdLFsiQ2hyb21pdW0iLCIxMzMuMC42OTQzLjE0MyJdXSwwXQ..&u_so=l&ctv=0&mpt=h5_vsi&sdki=445&ptt=20&adk=1083529519&sdk_apis=2%2C7%2C8&omid_p=Google1%2Fh.3.688.0&media_url=https%3A%2F%2Fs0.2mdn.net%2F4253510%2Fgoogle_ddm_animation_480P.mp4&sid=143B1AB4-F655-425F-B5C2-D49BC807C875&nel=1&td=1&eid=95322027%2C95326337%2C95331589%2C95332046%2C95351091&ref=https%3A%2F%2Fwww.google.com%2F&url=https%3A%2F%2Fgoogleads.github.io%2Fgoogleads-ima-html5%2Fvsi%2F&dlt=1741201107292&idt=496&dt=1741201112814&pvsid=342258371105668&scor=768096627554145",[h.PAL]:"https://pubads.g.doubleclick.net/gampad/ads?iu=/21775744923/external/single_ad_samples&sz=640x480&cust_params=sample_ct%3Dlinear&ciu_szs=300x250%2C728x90&gdfp_req=1&output=vast&unviewed_position_start=1&env=vp&impl=s&givn=AQzzBGQEVGjRW4svCeU1wKejaeWhATJKF8aSNC5L1tYtef8HbnrkSGMNeJ_9T2TlaiR1_a3raO06REP-0GXOufeAFhKUqEGb1jr_GnFF2JPkIb2XSoHFulgoqv_LT-eSbtLoyvth8twEDkitZc_x5oG7ZeM5HG9p0uN7PsxNozcRzSKJ0YR8r3piDMICB0dHo3QinJJe8WbesSgoTC3sLMnSZPxyKr9HO_PNq01x6S9wdaoPSomG6yBt-zu19Sb-PmILZa4Pax0P_moNAZHLTo7RIaPHeCj3qTdLVplhhC2lWwFLrSiHXeDefaoi4sl4elyvItt6KKGoRjAAwQAuyDNFWxGMghrGF5Z0N7-BANG7dutg-K78XPB9m5SBCEYPU_lFrGjs9zii9QxKPpj7pkn-4FuEov6jXwuYG1TRHLjYFrHR4uYDgeIDwWFGyIxIpsFUESrjO2BqP5EZ7F_TOJ98-TkaoV4B0_da60y08VZZqOT0n_hxZDlPDzxCNFRWdBoFEN7PLR_4N-t0Tm0PuJgiWiye0W5_7HXyiTvIEgdFiiLwwmFsB5d72vUaKYJi1HOc9eJSEjC7YOG6ag0kqP1C61dW1BAVuAb0OFR5UJk0zA10cjgQULeHvC0BCIvLL5qcxBKEvUCHmV4RC6oe4bk3u3tVwe7lynNjFbNvAitgbbJum_38R_8V1dYNj-YGApbIuq4nfD9PWQpHodG2c9TfFhOufJ6MDeVaJPCFF9bprUf63MqPmGGjV4-sBW0GUizqRc6XMkdp3pt1cpVli6jqHqDV4tYvfXS9pLgXbdR9u3YaFK2rZQWphq5JClbWWvPAOsesmHTtRXQ6SlJR_dLd2GPfIR3HO3Y7qATwiRiYXkFFTw..&correlator=",[h.PAL_LEGACY]:"https://pubads.g.doubleclick.net/gampad/ads?iu=/21775744923/external/single_ad_samples&sz=640x480&cust_params=sample_ct%3Dlinear&ciu_szs=300x250%2C728x90&gdfp_req=1&output=vast&unviewed_position_start=1&env=vp&impl=s&paln=AQzzBGQEVGjRW4svCeU1wKejaeWhATJKF8aSNC5L1tYtef8HbnrkSGMNeJ_9T2TlaiR1_a3raO06REP-0GXOufeAFhKUqEGb1jr_GnFF2JPkIb2XSoHFulgoqv_LT-eSbtLoyvth8twEDkitZc_x5oG7ZeM5HG9p0uN7PsxNozcRzSKJ0YR8r3piDMICB0dHo3QinJJe8WbesSgoTC3sLMnSZPxyKr9HO_PNq01x6S9wdaoPSomG6yBt-zu19Sb-PmILZa4Pax0P_moNAZHLTo7RIaPHeCj3qTdLVplhhC2lWwFLrSiHXeDefaoi4sl4elyvItt6KKGoRjAAwQAuyDNFWxGMghrGF5Z0N7-BANG7dutg-K78XPB9m5SBCEYPU_lFrGjs9zii9QxKPpj7pkn-4FuEov6jXwuYG1TRHLjYFrHR4uYDgeIDwWFGyIxIpsFUESrjO2BqP5EZ7F_TOJ98-TkaoV4B0_da60y08VZZqOT0n_hxZDlPDzxCNFRWdBoFEN7PLR_4N-t0Tm0PuJgiWiye0W5_7HXyiTvIEgdFiiLwwmFsB5d72vUaKYJi1HOc9eJSEjC7YOG6ag0kqP1C61dW1BAVuAb0OFR5UJk0zA10cjgQULeHvC0BCIvLL5qcxBKEvUCHmV4RC6oe4bk3u3tVwe7lynNjFbNvAitgbbJum_38R_8V1dYNj-YGApbIuq4nfD9PWQpHodG2c9TfFhOufJ6MDeVaJPCFF9bprUf63MqPmGGjV4-sBW0GUizqRc6XMkdp3pt1cpVli6jqHqDV4tYvfXS9pLgXbdR9u3YaFK2rZQWphq5JClbWWvPAOsesmHTtRXQ6SlJR_dLd2GPfIR3HO3Y7qATwiRiYXkFFTw..&correlator=",[h.PAI]:"https://serverside.doubleclick.net/gampad/ads?iu=/21775744923/external/single_ad_samples&sz=640x480&cust_params=sample_ct%3Dlinear&ciu_szs=300x250%2C728x90&gdfp_req=1&output=vast&unviewed_position_start=1&env=vp&impl=s&ssss=vast_url_validator_test&ip=203.0.113.1&correlator=",[h.PAI_PAL]:"https://serverside.doubleclick.net/gampad/ads?iu=/21775744923/external/single_ad_samples&sz=640x480&cust_params=sample_ct%3Dlinear&ciu_szs=300x250%2C728x90&gdfp_req=1&output=vast&unviewed_position_start=1&env=vp&impl=s&ssss=vast_url_validator_test&ip=203.0.113.1&givn=AQzzBGQEVGjRW4svCeU1wKejaeWhATJKF8aSNC5L1tYtef8HbnrkSGMNeJ_9T2TlaiR1_a3raO06REP-0GXOufeAFhKUqEGb1jr_GnFF2JPkIb2XSoHFulgoqv_LT-eSbtLoyvth8twEDkitZc_x5oG7ZeM5HG9p0uN7PsxNozcRzSKJ0YR8r3piDMICB0dHo3QinJJe8WbesSgoTC3sLMnSZPxyKr9HO_PNq01x6S9wdaoPSomG6yBt-zu19Sb-PmILZa4Pax0P_moNAZHLTo7RIaPHeCj3qTdLVplhhC2lWwFLrSiHXeDefaoi4sl4elyvItt6KKGoRjAAwQAuyDNFWxGMghrGF5Z0N7-BANG7dutg-K78XPB9m5SBCEYPU_lFrGjs9zii9QxKPpj7pkn-4FuEov6jXwuYG1TRHLjYFrHR4uYDgeIDwWFGyIxIpsFUESrjO2BqP5EZ7F_TOJ98-TkaoV4B0_da60y08VZZqOT0n_hxZDlPDzxCNFRWdBoFEN7PLR_4N-t0Tm0PuJgiWiye0W5_7HXyiTvIEgdFiiLwwmFsB5d72vUaKYJi1HOc9eJSEjC7YOG6ag0kqP1C61dW1BAVuAb0OFR5UJk0zA10cjgQULeHvC0BCIvLL5qcxBKEvUCHmV4RC6oe4bk3u3tVwe7lynNjFbNvAitgbbJum_38R_8V1dYNj-YGApbIuq4nfD9PWQpHodG2c9TfFhOufJ6MDeVaJPCFF9bprUf63MqPmGGjV4-sBW0GUizqRc6XMkdp3pt1cpVli6jqHqDV4tYvfXS9pLgXbdR9u3YaFK2rZQWphq5JClbWWvPAOsesmHTtRXQ6SlJR_dLd2GPfIR3HO3Y7qATwiRiYXkFFTw..&correlator=",[h.STANDARD]:"https://pubads.g.doubleclick.net/gampad/ads?iu=/21775744923/external/single_ad_samples&sz=640x480&cust_params=sample_ct%3Dlinear&ciu_szs=300x250%2C728x90&gdfp_req=1&output=vast&unviewed_position_start=1&env=vp&impl=s&vpmute=true&ppsj=eyJQdWJsaXNoZXJQcm92aWRlZFRheG9ub215U2lnbmFscyI6W3sidGF4b25vbXkiOiJJQUJfQVVESUVOQ0VfMV8xIiwidmFsdWVzIjpbIjYiLCIyODQiXX0seyJ0YXhvbm9teSI6IklBQl9DT05URU5UXzJfMiIsInZhbHVlcyI6WyI0OSIsIjEzOCJdfV0sIlB1Ymxpc2hlclByb3ZpZGVkU3RydWN0dXJlZFNpZ25hbHMiOlt7InR5cGUiOiJhdWRpb19mZWVkIiwic2luZ2xlX3ZhbHVlIjoiYWZfMSJ9LHsidHlwZSI6ImRlbGl2ZXJ5IiwidmFsdWVzIjpbImNkXzEiLCJjZF8zIl19XX0%3D&correlator="};var v=a(32992);class y{static ErrorCode={URL_EMPTY:"Empty URL.",INVALID_URL:"Invalid URL."};static WarningCode={LEGACY_PAL_TAG:"Legacy PAL tag."};static WarningMessage={LEGACY_PAL_TAG:"You are using a legacy PAL tag, please update the tag and use the new `givn` parameter instead!"};constructor(e){this.url=e}validate(){if(!this.url)return{success:!1,error:y.ErrorCode.URL_EMPTY,warning:null,warning_message:"",tagType:h.UNKNOWN};try{const e=new URL(this.url),t=e.hostname,a=e.pathname,r=e.protocol,s=e.searchParams;let n=null,i="";if("http:"!==r&&"https:"!==r)return{success:!1,error:y.ErrorCode.INVALID_URL,error_message:"Invalid protocol "+r+". Only http and https are allowed.",warning:null,warning_message:"",tagType:h.UNKNOWN};let o=h.UNKNOWN;return"serverside.doubleclick.net"===t&&s.has("ssss")?o=s.has("givn")?h.PAI_PAL:h.PAI:"pubads.g.doubleclick.net"===t||"securepubads.g.doubleclick.net"===t||t.endsWith(".corp.google.com")&&a.startsWith("/gampad/ads")?s.has("givn")?o=h.PAL:s.has("paln")?(o=h.PAL_LEGACY,n=y.WarningCode.LEGACY_PAL_TAG,i=y.WarningMessage.LEGACY_PAL_TAG):o=h.STANDARD:"pagead2.googlesyndication.com"===t&&s.has("sdkv")&&(o=h.IMA_SDK),{warning:n,warning_message:i,success:!0,tagType:o}}catch(e){return{success:!1,error:y.ErrorCode.INVALID_URL,error_message:e.message,warning:null,warning_message:"",tagType:h.UNKNOWN}}}}const f=y;class w{static ErrorCode={URL_EMPTY:"URL is empty.",PPSJ_PARSE_ERROR:"Error parsing ppsj parameter."};constructor(e){this.url=e}parse(){if(!this.url)return{success:!1,error:w.ErrorCode.URL_EMPTY};let e="";const t={},a=this.url.includes("?")?this.url.split("?")[1]:"";return a&&a.split("&").forEach(a=>{const[r,s]=a.split("="),n=decodeURIComponent(r),i=s?decodeURIComponent(s):"";if("cust_params"===n){const e=decodeURIComponent(i),a={};if(e.includes("&"))e.split("&").forEach(e=>{const[t,r]=e.split("=");a[decodeURIComponent(t)]=decodeURIComponent(r)});else{const[t,r]=e.split("=");a[decodeURIComponent(t)]=decodeURIComponent(r)}t[n]=a}else if("ppsj"===n)try{const e=atob(i);t[n]=JSON.parse(decodeURIComponent(e))}catch(a){console.error("Error parsing ppsj:",a),e=w.ErrorCode.PPSJ_PARSE_ERROR,t[n]=i}else t[n]=decodeURIComponent(s)}),{success:!0,params:t,error:e}}}const E=w,x=JSON.parse('{"type":"audio","lastUpdated":"2025-03-06","parameters":{"required":["ad_type","correlator","env","gdfp_req","iu","output","url"],"programmatic":{"required":["idtype","is_lat","plcmt","rdid","vpa","vpmute"],"recommended":["aconp","an","dth","givn","hl","msid","omid_p","sid","vid_d","vpos","wta"]}}}'),_=JSON.parse('{"type":"connectedTV","lastUpdated":"2025-03-06","parameters":{"required":["correlator","env","gdfp_req","iu","output","sz","url"],"programmatic":{"required":["idtype","is_lat","ott_placement","plcmt","rdid","vpa","vpmute"],"recommended":["an","dth","givn","hl","msid","omid_p","sid","vconp","vid_d","vpos","wta"]}}}'),b=JSON.parse('{"type":"digitalOutOfHome","lastUpdated":"2025-03-06","parameters":{"required":["correlator","env","gdfp_req","iu","output","sz","url","vpmute"],"programmatic":{"required":["idtype","is_lat","plcmt","rdid","sid","venuetype"],"recommended":["aconp","an","dth","givn","hl","msid","omid_p"]}}}'),T=JSON.parse('{"type":"mobileApp","lastUpdated":"2025-03-06","parameters":{"required":["correlator","description_url","env","gdfp_req","iu","output","sz","url","vpmute"],"recommended":["unviewed_position_start"],"programmatic":{"required":["idtype","is_lat","ott_placement","plcmt","rdid","vpa"],"recommended":["an","dth","givn","hl","msid","omid_p","pvid","sid","vconp","vid_d","vpos","wta"]}}}'),S=JSON.parse('[{"name":"adWillAutoPlay","override":"vpa","description":"Indicates whether the ad will autoplay.","examples":["true","false"],"validation":"^(true|false)$"},{"name":"adWillPlayMuted","override":"vpmute","description":"Indicates whether the ad will play muted.","examples":["true","false"],"validation":"^(true|false)$"},{"name":"descriptionUrl","override":"description_url","description":"The URL of the page where the ad will be displayed.","examples":["https://www.example.com"],"validation":"^(https?|ftp)://[a-z0-9-]+(\\\\.[a-z0-9-]+)+([/?].*)?$"},{"name":"ppid","override":"ppid","description":"The publisher-provided identifier for the user.","examples":["12JD92JD8078S8J29SDOAKC0EF230337","12jd92jd8078s8j29sdoakc0ef230337","12Jd92jD8078s8j29sDoakc0ef230337","123e4567-e89b-12d3-a456-426614174000"],"validation":"^[0-9a-zA-Z+.=/_\\\\-$,{}]{22,150}$"},{"name":"omidPartnerName","override":"omid_p","description":"The name of the Open Measurement Interface Definition (OMID) partner.","examples":["examplepartnername"],"validation":"^[a-zA-Z0-9_]+$"},{"name":"omidPartnerVersion","override":"omid_p","description":"The version of the Open Measurement Interface Definition (OMID) partner.","examples":["1.0.0"],"validation":"^[0-9]+\\\\.[0-9]+\\\\.[0-9]+$"},{"name":"url","override":"url","description":"The URL of the ad request.","examples":["https://www.example.com/ad_request"],"validation":"^https?://[^\\\\s/$.?#].[^\\\\s]*$"},{"name":"continuousPlayback","override":"vconp","description":"Indicates whether the video player will continue playing after the ad.","examples":["true","false"],"validation":"^(true|false)$"}]'),R=JSON.parse('[{"name":"correlator","sdkHandlingInfo":"The correlator is a cache-buster and is automatically generated and managed by the SDK to prevent caching of ad requests.","sdk":["IMA_SDK"]},{"name":"output","sdkHandlingInfo":"The output format is typically determined by the SDK based on its internal requirements and the API version being used. Manual modification is generally not recommended.","sdk":["IMA_SDK"]},{"name":"url","sdkHandlingInfo":"The SDK automatically detects and passes the current page URL. Manual overriding might lead to incorrect reporting.","sdk":["IMA_SDK"]},{"name":"an","sdkHandlingInfo":"For mobile app environments, the application name is typically retrieved by the SDK directly from the app\'s manifest or package information. Manual inclusion is usually redundant.","sdk":["IMA_SDK"]},{"name":"dth","sdkHandlingInfo":"The SDK attempts to detect the device type automatically. While sometimes included, it\'s often more accurately set by the SDK\'s internal logic.","sdk":["IMA_SDK"]},{"name":"msid","sdkHandlingInfo":"The mobile session ID is managed by the SDK for tracking user sessions within an application. It\'s automatically generated and updated.","sdk":["IMA_SDK"]},{"name":"omid_p","sdkHandlingInfo":"The Open Measurement Interface Definition (OMID) Partner ID is set by the SDK when OMID is enabled, indicating the integration partner. It is crucial for correct OM measurement.","sdk":["IMA_SDK"]},{"name":"rdid","sdkHandlingInfo":"The SDK automatically retrieves and passes the appropriate resettable device identifier based on platform capabilities and user privacy settings. Direct manipulation is discouraged.","sdk":["IMA_SDK"]},{"name":"wta","sdkHandlingInfo":"The \'wta\' (Why this Ad) parameter is automatically managed by the SDK to provide users with information about why a specific ad was shown, based on the ad\'s targeting criteria. Direct manipulation is discouraged.","sdk":["IMA_SDK"]},{"name":"idtype","sdkHandlingInfo":"This parameter is automatically set by the SDK to indicate the type of \'rdid\' being sent, ensuring correct interpretation of the device identifier.","sdk":["IMA_SDK"]},{"name":"is_lat","sdkHandlingInfo":"The SDK automatically determines and passes the \'Limit Ad Tracking\' (LAT) status based on the user\'s device privacy settings. Manual inclusion is typically not needed.","sdk":["IMA_SDK"]},{"name":"pvid","sdkHandlingInfo":"The PVID is often managed by the SDK to provide a unique identifier for a given page view or content session, aiding in analytics and frequency capping.","sdk":["IMA_SDK"]},{"name":"pvid_s","sdkHandlingInfo":"Similar to pvid, this parameter is internally managed by the SDK for reporting aggregated page view data.","sdk":["IMA_SDK"]},{"name":"sdk_apis","sdkHandlingInfo":"The SDK automatically populates this parameter with the APIs it supports (e.g., \'VAST\', \'VPAID\', \'OMID\') based on its capabilities and configuration. Manual intervention is rarely required.","sdk":["IMA_SDK"]}]'),C=JSON.parse('[{"name":"correlator","aliases":["c"],"description":"A unique identifier for the ad request, which is used to ensure that ads are not repeated in the same session.","examples":["4345645667"],"validation":"^-?\\\\d+$","help":"https://support.google.com/admanager/answer/10678356?hl=en#correlator&zippy=%2Ccorrelator-correlator"},{"name":"description_url","aliases":["video_url_to_fetch","durl"],"description":"The URL of the page where the ad will be displayed.","examples":["https://www.example.com/page.html","https://www.example.org/play/serien/the-ad/1-ein-fehler-aendert-alles"],"validation":"^https?://[^\\\\s/$.?#].[^\\\\s]*$","help":"https://support.google.com/admanager/answer/10678356?hl=en#description_url&zippy=%2Cdescription-url-description-url"},{"name":"env","description":"The environment in which the ad will be displayed (e.g., web, app, or video).","examples":["instream","vp"],"validation":"^(instream|vp)$","help":"https://support.google.com/admanager/answer/10678356?hl=en#env&zippy=%2Cenv-environment"},{"name":"gdfp_req","description":"A flag that indicates whether the ad request is a Google Publisher Tag (GPT) request.","examples":["1"],"validation":"^1$","help":"https://support.google.com/admanager/answer/10678356?hl=en#gdfp_req&zippy=%2Cgdfp-req-schema-indicator"},{"name":"url","description":"The URL of the ad request.","examples":["https://www.example.com/ad_request"],"validation":"^https?://[^\\\\s/$.?#].[^\\\\s]*$","help":"https://support.google.com/admanager/answer/10678356?hl=en#url&zippy=%2Curl-url"},{"name":"iu","aliases":["slotname"],"description":"The ad unit code that identifies the ad slot.","examples":["/1234567,7654321/ad_unit/sub_ad_unit.en/sport/f-1","/1234567/sports","/network_code,child_network/ad_unit/sub_ad_unit/sport/f-1","/network_code/ad_unit//sub_ad_unit","/network_code/ad_unit:sub_ad_unit","/network_code/special*ad*unit!","/network_code/ad_unit<sub_ad_unit","/network_code/ad_unit/sub_ad_unit","/network_code/ad_unit/sub_ad_unit.de","/network_code/ad_unit/sub_ad_unit.en/sport/f-1"],"validation":"^/[a-zA-Z0-9_,\\\\-.*!<:()]{1,100}(/[a-zA-Z0-9_\\\\-.*!<:()]{0,100})*$","help":"https://support.google.com/admanager/answer/10678356?hl=en#iu&zippy=%2Ciu-ad-unit"},{"name":"output","description":"The output format of the ad (e.g., vmap, vast, or vpaid).","examples":["vast","vmap","xml_vmap1","xml_vast2","xml_vast3","xml_vast4","xml_vmap1_vast4","xml_vmap1","xml_vmap1_vast3"],"validation":"^(vast(_[2-4])?|vmap(_[1])?|xml_vast[2-4]|xml_vmap[1](_vast[3-4])?(_vpaid)?|vpaid)$","help":"https://support.google.com/admanager/answer/10678356?hl=en#output&zippy=%2Coutput-output"},{"name":"sz","description":"The size of the ad unit (e.g., 300x250, 728x90, or 160x600).","examples":["300x250","300x250|400x300"],"validation":"^(\\\\d+x\\\\d+)(\\\\|\\\\d+x\\\\d+)*$","help":"http://support.google.com/admanager/answer/10678356?hl=en#sz&zippy=%2Csz-size"},{"name":"unviewed_position_start","description":"The position at which the ad will start playing if it is not in view.","examples":["1"],"validation":"^\\\\d+$","help":"https://support.google.com/admanager/answer/10678356?hl=en#hl&zippy=%2Cunviewed-position-start-delayed-impressions"},{"name":"ppid","description":"The publisher-provided identifier for the user.","examples":["12JD92JD8078S8J29SDOAKC0EF230337","12jd92jd8078s8j29sdoakc0ef230337","12Jd92jD8078s8j29sDoakc0ef230337","123e4567-e89b-12d3-a456-426614174000"],"validation":"^[0-9a-zA-Z+.=/_\\\\-$,{}]{22,150}$","help":"https://support.google.com/admanager/answer/2880055?hl=en"},{"name":"ssss","description":"The server-side stitching source.","examples":["vast_url_validator_test"],"validation":"^[a-z_]+$","help":"https://support.google.com/admanager/answer/10668760?hl=en"},{"name":"idtype","description":"The type of identifier used to track the user.","examples":["adid","afai","idfa","lgudid","msai","rida","tifa","tvOS","vaid","vida"],"validation":"^(adid|afai|idfa|lgudid|msai|rida|tifa|tvOS|vaid|vida)$","help":"https://support.google.com/admanager/answer/6238701?hl=en"},{"name":"is_lat","description":"A flag that indicates whether the user has opted out of ad personalization.","examples":["0","1"],"validation":"^(0|1)$","accepted":{"validation":"^(false|true)$"},"help":"https://support.google.com/admanager/answer/6238701?hl=en"},{"name":"rdid","description":"A resettable device identifier that can be updated by the user at any time.","examples":["123e4567-e89b-12d3-a456-426614174000","123E4567-E89B-12D3-A456-426614174000"],"validation":"^[0-9a-fA-F]{8}-[0-9a-fA-F]{4}-[0-9a-fA-F]{4}-[0-9a-fA-F]{4}-[0-9a-fA-F]{12}$","help":"https://support.google.com/admanager/answer/6238701?hl=en"},{"name":"vpmute","description":"A flag that indicates whether the video player is muted.","examples":["0","1"],"validation":"^(0|1)$","accepted":{"validation":"^(false|true)$"},"help":"https://support.google.com/admanager/answer/10678356?hl=en#hl&zippy=%2Cvpmute-video-play-mute"},{"name":"vid_d","description":"The duration of the video content in seconds.","examples":["30","60","120","90000"],"validation":"^\\\\d{1,6}$","help":"https://support.google.com/admanager/answer/10678356?hl=en#vid_d&zippy=%2Cvpos-video-position%2Cvid-d-video-duration%2Csee-a-clickable-alphabetical-index-of-all-parameters"},{"name":"vpa","description":"Indicates whether video content in an ad starts through autoplay or click","examples":["auto","click"],"validation":"^(auto|click)$","help":"https://support.google.com/admanager/answer/10678356?hl=en#hl&zippy=%2Cvpa-video-play-automatic"},{"name":"wta","description":"Indicates the video player\'s support for rendering ad badging \'Why this ad?\'","examples":["0","1"],"validation":"^(0|1)$","accepted":{"validation":"^(false|true)$"},"help":"https://support.google.com/admanager/answer/10678356?hl=en#hl&zippy=%2Cwta-why-this-ad"},{"name":"hl","description":"The language of the ad request.","examples":["en","de","deu","ger","fr"],"validation":"^(?!.*(.)\\\\1)[a-z]{2,3}$","help":"https://support.google.com/admanager/answer/10678356?hl=en#hl&zippy=%2Chl-language"},{"name":"aconp","description":"Indicates whether the player intends to continuously play audio content.","examples":["0","1","2"],"validation":"^(0|1|2)$","help":"https://support.google.com/admanager/answer/10678356?hl=en#hl&zippy=%2Caconp-audio-continuous-play"},{"name":"dth","description":"The device type hint parameter helps reduce device misclassification, specifically on connected TV and set top box environments.","examples":["1","2","3","4","5","6","7"],"validation":"^(1|2|3|4|5|6|7)$","help":"https://support.google.com/admanager/answer/10678356?hl=en#hl&zippy=%2Cdth-device-type-hint"},{"name":"plcmt","description":"The placement type parameter helps identify the type of ad placement.","examples":["1","2"],"validation":"^(1|2)$","help":"https://support.google.com/admanager/answer/10678356?hl=en#hl&zippy=%2Cplcmt-placement"},{"name":"msid","description":"App ID parameter helps identify the app where the ad will be displayed.","examples":["com.package.publisher","com.publisher.deviceplatform","com.publisher123.deviceplatform","com.exampletv"],"validation":"^[a-z]{2,3}\\\\.[a-z0-9]+(\\\\.[a-z]+)?$","help":"https://support.google.com/admanager/answer/10678356?hl=en#hl&zippy=%2Cmsid-app-id"},{"name":"ciu_szs","description":"The size of the companion ad unit (e.g., 300x250, 728x90, or 160x600).","examples":["300x250","300x250|400x300","728x90,300x200|300x250","fluid|728x90,fluid|300x250,fluid|180x150,fluid|120x60,fluid|88x31,fluid|300x60,fluid|300x100,fluid|320x50,fluid|468x60,fluid|300x600,fluid|160x600"],"validation":"^(fluid|\\\\d+x\\\\d+)(\\\\|(fluid|\\\\d+x\\\\d+))*?(,(fluid|\\\\d+x\\\\d+)(\\\\|(fluid|\\\\d+x\\\\d+))*?)*$","help":"https://support.google.com/admanager/answer/10678356?hl=en#hl&zippy=%2Cciu-szs-companion-sizes"},{"name":"gdpr_consent","description":"The GDPR consent string.","examples":["BOEFEAyOEFEAyAHA.BDENAI4AAAB9vABA_ASA"],"validation":"^[A-Za-z0-9\\\\.\\\\-_~]{20,2000}$","help":"https://support.google.com/admanager/answer/9805023?hl=en"},{"name":"ott_placement","description":"The OTT placement parameter helps identify the type of OTT ad placement.","examples":["1","2","3","4","5","99"],"validation":"^(1|2|3|4|5|99)$","help":"https://support.google.com/admanager/answer/10678356?hl=en#ott_placement&zippy=%2Cott-placement-ott-placement"},{"name":"givn","description":"Programmatic Access Library (PAL) nonce parameter.","examples":["AQzzBGQESh0MfW7LFqGLz9GePWVVUAgC5JabPBXGhnX7y_r59X7WD5azuX2RAyrTRlRYgW2EATaB7otaVj9xHqlo5oeeBrrmYrcNpeEsPL9OnK1sB8Gr4xzEZniqv0BnSrgpcFF4Rx9dbtUFV1wki7M2Yz3tJo7Sd7KMMBWMrGpoNcj-7IPbYbBGW8raYln0GDj2Bk-pJEBJZL1obkVS7w7zfT4i6BFqCJPyhPibox84ZRrsasRT97TREUmZ9c_VLjehwt9MrV3fmjqnRaYUJ1EU_4-64p4fxaStEc6JGZhFHSokoZihaysiRGqIYiSRLlmVHA6OUUSnoY45rCVoAtK_8AEoJFjyQQ3s8p2haTdB8xqe7aP7hq3S97a7ipWJ75GueL0REUP9oqfvMP1RwBdBSDN-9UV83bxjyA5GpsdK3NLCJskqyjfCyhrPy6R0xZ-SjI85e395zjft2RTWm38MUUmp9ES0NXFQC1G0G67gI0zwg2M-f0M5LUy9pqPAfgDyW73qQChID2yuUtONJxjIOq1OnyZ1eOqKX8CDcoPIj2jKsuQgqAPpElUP6TgH0_h-RP3LVYEy_BhO9lyiLodBKxIwztj_JGUZYNqb4tVrpwF1EY_DQayIgmrEeKZXfP-UwfhVloOPjOwAeiK0HkFb0krIqCnxVVlqN_ttlBLAE6foMfQtlEHhzzXkBccaWcr5pVTyZy-9an09KtaLlooDEGVj0JYFeJfSkGoqvH8FyGTYXf6f2rIJKi9DRvm-f-7rIops0fJvEFSM5YgeOFbq1H-NOTsA3MPgiyxdZ8BAnU3acr2u35DZaIxg6sbHZ5HQV_LAfUkmqJJ2cb9p4iPhI0YTHoLODF1OLpAQhj4E0r-kVTMElp9rxSgzgYUzzJA6sM2nE6QYU_qhc-2SgWemz2upuW3aBAmElxrXWA9st4FHLMJrrs9krrwCMkB6YWsRVXsZpZqxwDkbvlwrFcLLgExnbSDbsAfIlN5NYI1LV77yP9kNpYpqwghKQjeuOB53HhPhARw-FNAoRA1UkgRD8C61CF68xoNGxTeIbiDE5DIw1xoHFhypIPhUgfQ6VlD2SrIseBX7HE6BxMStdQK4385aGHBLDj_jIHgBZqYpEV56AKMIUOTz8vLxo2_R_o_WLQL-_8XE8YSYMvmnXzHMzjUQO1uNXwF73hriQFQxW4_S7EsqMEqI3cyL-_e0VTf05sdfiBupih9u45PeXG68EILeaG30osYZ2TcvT7LnHKyiJRdCB5zE2Un1V3oFv13c9Fqmr7mkUGLPe1fJDYTfrzenMvizFVB5_9hB_gahjHUiKPpDCGsGFmiB31OrdLcArde36SPsZ1KDOubHC0O9_A6eCgAfPie8rZ4WPubXkIGw_d7_"],"validation":"^[A-Za-z0-9\\\\-_]{100,}(?:={0,2}|[.]{1,2})?$","help":"https://support.google.com/admanager/answer/10678356?hl=en#givn&zippy=%2Cgivn-givn"},{"name":"paln","description":"Legacy Programmatic Access Library (PAL) nonce parameter.","examples":["AQzzBGQESh0MfW7LFqGLz9GePWVVUAgC5JabPBXGhnX7y_r59X7WD5azuX2RAyrTRlRYgW2EATaB7otaVj9xHqlo5oeeBrrmYrcNpeEsPL9OnK1sB8Gr4xzEZniqv0BnSrgpcFF4Rx9dbtUFV1wki7M2Yz3tJo7Sd7KMMBWMrGpoNcj-7IPbYbBGW8raYln0GDj2Bk-pJEBJZL1obkVS7w7zfT4i6BFqCJPyhPibox84ZRrsasRT97TREUmZ9c_VLjehwt9MrV3fmjqnRaYUJ1EU_4-64p4fxaStEc6JGZhFHSokoZihaysiRGqIYiSRLlmVHA6OUUSnoY45rCVoAtK_8AEoJFjyQQ3s8p2haTdB8xqe7aP7hq3S97a7ipWJ75GueL0REUP9oqfvMP1RwBdBSDN-9UV83bxjyA5GpsdK3NLCJskqyjfCyhrPy6R0xZ-SjI85e395zjft2RTWm38MUUmp9ES0NXFQC1G0G67gI0zwg2M-f0M5LUy9pqPAfgDyW73qQChID2yuUtONJxjIOq1OnyZ1eOqKX8CDcoPIj2jKsuQgqAPpElUP6TgH0_h-RP3LVYEy_BhO9lyiLodBKxIwztj_JGUZYNqb4tVrpwF1EY_DQayIgmrEeKZXfP-UwfhVloOPjOwAeiK0HkFb0krIqCnxVVlqN_ttlBLAE6foMfQtlEHhzzXkBccaWcr5pVTyZy-9an09KtaLlooDEGVj0JYFeJfSkGoqvH8FyGTYXf6f2rIJKi9DRvm-f-7rIops0fJvEFSM5YgeOFbq1H-NOTsA3MPgiyxdZ8BAnU3acr2u35DZaIxg6sbHZ5HQV_LAfUkmqJJ2cb9p4iPhI0YTHoLODF1OLpAQhj4E0r-kVTMElp9rxSgzgYUzzJA6sM2nE6QYU_qhc-2SgWemz2upuW3aBAmElxrXWA9st4FHLMJrrs9krrwCMkB6YWsRVXsZpZqxwDkbvlwrFcLLgExnbSDbsAfIlN5NYI1LV77yP9kNpYpqwghKQjeuOB53HhPhARw-FNAoRA1UkgRD8C61CF68xoNGxTeIbiDE5DIw1xoHFhypIPhUgfQ6VlD2SrIseBX7HE6BxMStdQK4385aGHBLDj_jIHgBZqYpEV56AKMIUOTz8vLxo2_R_o_WLQL-_8XE8YSYMvmnXzHMzjUQO1uNXwF73hriQFQxW4_S7EsqMEqI3cyL-_e0VTf05sdfiBupih9u45PeXG68EILeaG30osYZ2TcvT7LnHKyiJRdCB5zE2Un1V3oFv13c9Fqmr7mkUGLPe1fJDYTfrzenMvizFVB5_9hB_gahjHUiKPpDCGsGFmiB31OrdLcArde36SPsZ1KDOubHC0O9_A6eCgAfPie8rZ4WPubXkIGw_d7_"],"validation":"^[A-Za-z0-9\\\\-_]{100,}(?:={0,2}|[.]{1,2})?$","deprecated":"If you previously provided a nonce using the legacy paln parameter, it is strongly recommended to migrate to the givn parameter and stop sending paln. Do not include both parameters.","help":"https://support.google.com/admanager/answer/10678356?hl=en#paln&zippy=%2Cpaln-programmatic-access-library-nonce-legacy"},{"name":"vconp","description":"Indicates whether the player intends to continuously play video content.","examples":["1","2"],"validation":"^(1|2)$","help":"https://support.google.com/admanager/answer/10678356?hl=en#vconp&zippy=%2Cvconp-video-continuous-play"},{"name":"vpos","description":"The position of the ad in the video content.","examples":["preroll","midroll","postroll"],"validation":"^(preroll|midroll|postroll)$","help":"https://support.google.com/admanager/answer/10678356?hl=en#vpos&zippy=%2Cvpos-video-position"}]'),P=JSON.parse('{"type":"web","lastUpdated":"2025-03-06","parameters":{"required":["correlator","description_url","env","gdfp_req","iu","output","sz","url"],"recommended":["unviewed_position_start"],"programmatic":{"required":["ott_placement","plcmt","vpa","vpmute"],"recommended":["dth","givn","hl","omid_p","vconp","vid_d","vpos","wta"]}}}');const I=class{constructor(e=""){this._url=e,this._date=new Date,this._vastResponse=null,this._parameters={required:{},optional:{},programmatic:{required:{},recommended:{}},other:{},special:{}}}get url(){return this._url}get date(){return this._date}get parameters(){return this._parameters}get requiredParameters(){return this._parameters.required}get optionalParameters(){return this._parameters.optional}get programmaticRequiredParameters(){return this._parameters.programmatic.required}get programmaticRecommendedParameters(){return this._parameters.programmatic.recommended}get otherParameters(){return this._parameters.other}get vastResponse(){return this._vastResponse}set requiredParameters(e){this._parameters.required=e}set optionalParameters(e){this._parameters.optional=e}set programmaticRequiredParameters(e){this._parameters.programmatic.required=e}set programmaticRecommendedParameters(e){this._parameters.programmatic.recommended=e}set otherParameters(e){this._parameters.other=e}set specialParameters(e){this._parameters.special=e}set vastResponse(e){this._vastResponse=e}};const k=class{constructor(e,t="",a=0){this._name=e,this._value=t,this._score=a,this._exists=!1,this._valid=!1,this._accepted=!1,this._override=!1,this._sdkManaged=!1,this._deprecated="",this._alias="",this._warning=""}get name(){return this._name}get value(){return this._value}get score(){return this._score}set score(e){this._score=e}get exists(){return this._exists}set exists(e){this._exists=e}get valid(){return this._valid}set valid(e){this._valid=e}get accepted(){return this._accepted}set accepted(e){this._accepted=e}get override(){return this._override}set override(e){this._override=e}get sdkManaged(){return this._sdkManaged}set sdkManaged(e){this._sdkManaged=e}get deprecated(){return this._deprecated}set deprecated(e){this._deprecated=e}get alias(){return this._alias}set alias(e){this._alias=e}get warning(){return this._warning}set warning(e){this._warning=e}};class D{static ErrorCode={PARAMETERS_EMPTY:"Parameters are empty."};static DefaultScore={OPTIONAL_PARAM:.5,OPTIONAL_PARAM_MISSING:0,OPTIONAL_PARAM_INVALID:0,OPTIONAL_PARAM_VALID:.5,OPTIONAL_PARAM_VALIDATED:1,REQUIRED_PARAM:4,REQUIRED_PARAM_MISSING:-5,REQUIRED_PARAM_INVALID:-3,REQUIRED_PARAM_VALID:3,REQUIRED_PARAM_VALIDATED:5};constructor(e,t,a,r,s={}){this.vastURL=e,this.vastParams=t,this.vastTagType=a,this.implementationType=r,this.options=s,this.state={analysisResult:null,metadata:null,vastAdTagParameters:null,webValidationRules:null}}analyze(){if(!this.vastParams||0===Object.keys(this.vastParams).length)return{success:!1,error:D.ErrorCode.PARAMETERS_EMPTY};console.info(`Analyzing ${this.vastTagType} VAST URL for ${this.implementationType}`,{url:this.vastURL,params:this.vastParams});let e={};this.implementationType==u.WEB?e=JSON.parse(JSON.stringify(P)):this.implementationType==u.MOBILE_APP?e=JSON.parse(JSON.stringify(T)):this.implementationType==u.CONNECTED_TV?e=JSON.parse(JSON.stringify(_)):this.implementationType==u.AUDIO?e=JSON.parse(JSON.stringify(x)):this.implementationType==u.DIGITAL_OUT_OF_HOME&&(e=JSON.parse(JSON.stringify(b)));const t=e.parameters.required,a=e.parameters.programmatic.required,r=e.parameters.programmatic.recommended,s=[],n=this.vastTagType==h.IMA_SDK?R.map(e=>e.name):[];this.vastTagType==h.IMA_SDK&&(r.includes("dth")&&r.splice(r.indexOf("dth"),1),r.includes("givn")&&r.splice(r.indexOf("givn"),1)),this.vastTagType!=h.PAI&&this.vastTagType!=h.PAI_PAL||(t.includes("ssss")||t.push("ssss"),t.includes("ip")||t.push("ip"),this.options.ipViaHttpHeader&&s.push("ip")),this.vastTagType==h.PAL||this.vastTagType==h.PAI_PAL?(t.includes("givn")||t.push("givn"),S.forEach(e=>s.push(e.override))):this.vastTagType==h.PAL_LEGACY&&(t.includes("paln")||t.push("paln"),S.forEach(e=>s.push(e.override))),!a.includes("ott_placement")||"preroll"!==this.vastParams.vpos&&"midroll"!==this.vastParams.vpos&&"postroll"!==this.vastParams.vpos||(a.splice(a.indexOf("ott_placement"),1),r.push("ott_placement"));const i=this.validateRequiredParameters(this.vastParams,t,s,n),o=this.validateRequiredParameters(this.vastParams,a.filter(e=>!t.includes(e)),s,n),l=this.validateOptionalParameters(this.vastParams,r.filter(e=>!t.includes(e)&&!a.includes(e)),s,n),c=this.validateOptionalParameters(this.vastParams,Object.keys(this.vastParams).filter(e=>!t.includes(e)&&!a.includes(e)&&!r.includes(e)),s,n);this.validateContinuousPlayParameters(this.vastParams,i,o,l,c);const d=new I(this.vastURL);return d.requiredParameters=i,d.programmaticRequiredParameters=o,d.programmaticRecommendedParameters=l,d.otherParameters=c,d.specialParameters={},console.log("Analysis Result",d),{success:!0,analysisResult:d}}validateRequiredParameters(e,t,a=[],r=[]){return this.validateParameters(e,t,!1,a,r)}validateOptionalParameters(e,t,a=[],r=[]){return this.validateParameters(e,t,!0,a,r)}validateParameters(e,t,a=!1,r=[],s=[]){const n={};return t.forEach(t=>{const i=C.find(e=>e.name===t),o=i?i.validation:null,l=i?i.name:t,c=Array.isArray(r)&&r.includes(l),d=Array.isArray(s)&&s.includes(l);let p=e[t],m="";if(!p&&i&&i.aliases)for(const t of i.aliases)if(e[t]){p=e[t],m=t,console.info("Found alias",m,"for parameter",l,"with value",p);break}const u=new k(l,p);if(m&&(u.alias=m),n[l]=u,l in e||m&&m in e)if(o){if(new RegExp(o).test(p))console.info("Validated parameter",l,":",p),u.score=a?D.DefaultScore.OPTIONAL_PARAM_VALIDATED:D.DefaultScore.REQUIRED_PARAM_VALIDATED,u.exists=!0,u.valid=!0;else if(i&&i.accepted&&i.accepted.validation){new RegExp(i.accepted.validation).test(p)?(console.warn("Parameter value is accepted but not recommended",l,p),u.score=a?D.DefaultScore.OPTIONAL_PARAM_VALID:D.DefaultScore.REQUIRED_PARAM_VALID,u.exists=!0,u.valid=!0,u.accepted=!0):(console.warn("Invalid parameter value",l,p),u.score=a?D.DefaultScore.OPTIONAL_PARAM_MISSING:D.DefaultScore.REQUIRED_PARAM_MISSING,u.exists=!0,u.valid=!1)}else console.warn("Invalid parameter value",l,p),u.score=a?D.DefaultScore.OPTIONAL_PARAM_MISSING:D.DefaultScore.REQUIRED_PARAM_MISSING,u.exists=!0,u.valid=!1}else console.warn("Missing validation for parameter",l),u.score=a?D.DefaultScore.OPTIONAL_PARAM:D.DefaultScore.REQUIRED_PARAM,u.exists=!0,u.valid=!0;else console.error("Missing parameter",l),u.score=a?D.DefaultScore.OPTIONAL_PARAM_MISSING:D.DefaultScore.REQUIRED_PARAM_MISSING,u.exists=!1,u.valid=!1;(c||d)&&(u.override=c,u.sdkManaged=d,u.score=2.5,u.valid||(u.valid=!0))}),n}validateContinuousPlayParameters(e,t,a,r,s){const n="aconp"in e,i="vconp"in e,o={...t,...a,...r,...s},l=o.aconp,c=o.vconp;if(n&&i){const e="Both aconp and vconp parameters are present. These parameters are mutually exclusive - only one should be used.";return l&&(l.valid=!1,l.warning=e,l.score=D.DefaultScore.REQUIRED_PARAM_MISSING),void(c&&(c.valid=!1,c.warning=e,c.score=D.DefaultScore.REQUIRED_PARAM_MISSING))}n&&this.implementationType!==u.AUDIO&&l&&(l.warning="aconp parameter is intended for audio tags only. For video content, consider using vconp parameter instead."),i&&this.implementationType===u.AUDIO&&c&&(c.valid=!1,c.warning="vconp parameter is not suitable for audio implementation. Use aconp parameter instead.",c.score=D.DefaultScore.REQUIRED_PARAM_MISSING)}}const L=D;const q=class{constructor(e,t=!1,a=null){this.rawXml=e,this.isFromCache=t,this.cacheTimestamp=a,this.parsedData=null,this.validationErrors=[],this.analysisResults={},e&&this.parseXml()}parseXml(){try{const e=(new DOMParser).parseFromString(this.rawXml,"text/xml");if(e.querySelector("parsererror"))return void this.validationErrors.push("Invalid XML structure");const t=e.querySelector("VAST");if(!t)return void this.validationErrors.push("No VAST element found");this.parsedData={version:t.getAttribute("version"),ads:this.extractAds(e),errors:this.extractErrors(e),impressions:this.extractImpressions(e),trackingEvents:this.extractTrackingEvents(e),companionAds:this.extractCompanionAds(e),adVerifications:this.extractAdVerifications(e),icons:this.extractIcons(e),mediaFiles:this.extractMediaFiles(e),clickTracking:this.extractClickTracking(e)}}catch(e){this.validationErrors.push(`XML parsing error: ${e.message}`)}}extractAds(e){const t=[];return e.querySelectorAll("Ad").forEach((e,a)=>{const r={id:e.getAttribute("id")||`ad-${a}`,sequence:e.getAttribute("sequence"),type:e.querySelector("InLine")?"InLine":e.querySelector("Wrapper")?"Wrapper":"Unknown"},s=e.querySelectorAll("Creative");r.creatives=Array.from(s).map(e=>({id:e.getAttribute("id"),sequence:e.getAttribute("sequence"),type:e.querySelector("Linear")?"Linear":e.querySelector("NonLinearAds")?"NonLinear":e.querySelector("CompanionAds")?"Companion":"Unknown"})),t.push(r)}),t}extractErrors(e){const t=e.querySelectorAll("Error");return Array.from(t).map(e=>e.textContent.trim())}extractImpressions(e){const t=e.querySelectorAll("Impression");return Array.from(t).map(e=>e.textContent.trim())}extractTrackingEvents(e){const t={};return e.querySelectorAll("Tracking").forEach(e=>{const a=e.getAttribute("event");a&&(t[a]||(t[a]=[]),t[a].push(e.textContent.trim()))}),t}extractCompanionAds(e){const t=[];return e.querySelectorAll("Companion").forEach(e=>{t.push({id:e.getAttribute("id"),width:e.getAttribute("width"),height:e.getAttribute("height"),resourceType:e.querySelector("StaticResource")?"StaticResource":e.querySelector("IFrameResource")?"IFrameResource":e.querySelector("HTMLResource")?"HTMLResource":"Unknown",clickThrough:e.querySelector("CompanionClickThrough")?.textContent?.trim()||null})}),t}extractAdVerifications(e){const t=[];return e.querySelectorAll("AdVerifications Verification").forEach(e=>{const a=e.getAttribute("vendor"),r=e.querySelector("JavaScriptResource"),s=e.querySelector("VerificationParameters");t.push({vendor:a,jsResourceUrl:r?.textContent?.trim()||null,apiFramework:r?.getAttribute("apiFramework")||null,parameters:s?.textContent?.trim()||null,browserOptional:"true"===r?.getAttribute("browserOptional")})}),t}extractIcons(e){const t=[];return e.querySelectorAll("Icons Icon").forEach(e=>{t.push({program:e.getAttribute("program"),width:e.getAttribute("width"),height:e.getAttribute("height"),xPosition:e.getAttribute("xPosition"),yPosition:e.getAttribute("yPosition"),duration:e.getAttribute("duration"),offset:e.getAttribute("offset"),apiFramework:e.getAttribute("apiFramework"),resourceType:e.querySelector("StaticResource")?"StaticResource":e.querySelector("IFrameResource")?"IFrameResource":e.querySelector("HTMLResource")?"HTMLResource":"Unknown",clickThrough:e.querySelector("IconClickThrough")?.textContent?.trim()||null})}),t}extractMediaFiles(e){const t=[];return e.querySelectorAll("MediaFile").forEach(e=>{t.push({id:e.getAttribute("id"),delivery:e.getAttribute("delivery"),type:e.getAttribute("type"),width:e.getAttribute("width"),height:e.getAttribute("height"),codec:e.getAttribute("codec"),bitrate:e.getAttribute("bitrate"),scalable:"true"===e.getAttribute("scalable"),maintainAspectRatio:"true"===e.getAttribute("maintainAspectRatio"),apiFramework:e.getAttribute("apiFramework"),url:e.textContent?.trim()||null})}),t}extractClickTracking(e){return{clickThrough:Array.from(e.querySelectorAll("ClickThrough")).map(e=>e.textContent?.trim()),clickTracking:Array.from(e.querySelectorAll("ClickTracking")).map(e=>e.textContent?.trim())}}validateVast(){const e={isValid:!0,errors:[...this.validationErrors],warnings:[]};return this.parsedData?(this.parsedData.version||e.warnings.push("VAST version not specified"),this.parsedData.ads&&0!==this.parsedData.ads.length||(e.isValid=!1,e.errors.push("No ads found in VAST response")),this.parsedData.ads.forEach((t,a)=>{t.creatives&&0!==t.creatives.length||e.warnings.push(`Ad ${a+1}: No creatives found`)}),e):(e.isValid=!1,e.errors.push("Unable to parse VAST XML"),e)}getCacheInfo(){if(!this.isFromCache&&!this.cacheTimestamp)return null;const e=Date.now(),t=this.cacheTimestamp||e,a=e-t,r=Math.floor(a/1e3),s=new Date(t);return{isFromCache:this.isFromCache,ageSeconds:r,ageDisplay:r<60?`${r}s ago`:r<3600?`${Math.floor(r/60)}m ${r%60}s ago`:`${Math.floor(r/3600)}h ${Math.floor(r%3600/60)}m ago`,timestamp:s.toLocaleTimeString(),fullTimestamp:s.toLocaleString(),fetchedAt:`Fetched at ${s.toLocaleTimeString()}`}}getSummary(){if(!this.parsedData)return{isValid:!1,error:"Unable to parse VAST response"};const e=this.validateVast();return{isValid:e.isValid,version:this.parsedData.version,adCount:this.parsedData.ads?.length||0,creativeCount:this.parsedData.ads?.reduce((e,t)=>e+(t.creatives?.length||0),0)||0,impressionCount:this.parsedData.impressions?.length||0,errorUrlCount:this.parsedData.errors?.length||0,trackingEventTypes:Object.keys(this.parsedData.trackingEvents||{}).length,companionAdCount:this.parsedData.companionAds?.length||0,adVerificationCount:this.parsedData.adVerifications?.length||0,iconCount:this.parsedData.icons?.length||0,mediaFileCount:this.parsedData.mediaFiles?.length||0,clickThroughCount:this.parsedData.clickTracking?.clickThrough?.length||0,clickTrackingCount:this.parsedData.clickTracking?.clickTracking?.length||0,hasOMID:this.parsedData.adVerifications?.some(e=>e.vendor?.toLowerCase().includes("omid")||e.jsResourceUrl?.toLowerCase().includes("omid")||e.apiFramework?.toLowerCase().includes("omid"))||!1,iconPrograms:[...new Set(this.parsedData.icons?.map(e=>e.program).filter(Boolean)||[])],mediaTypes:[...new Set(this.parsedData.mediaFiles?.map(e=>e.type).filter(Boolean)||[])],validationErrors:e.errors,validationWarnings:e.warnings,cacheInfo:this.getCacheInfo()}}},M=new Map,O=new Map,N=6e5,F=e=>{const t=new URL(e);return t.searchParams.delete("correlator"),t.searchParams.delete("_"),t.searchParams.delete("timestamp"),t.toString()},z=e=>e&&Date.now()-e.timestamp<15e3,U=async(e,t=!1)=>{const a=F(e);if(t){const e=M.get(a);if(z(e)){console.log("Force refresh blocked due to cooldown period for:",a);return new q(e.data,!0,e.timestamp)}console.log("Force refresh requested, bypassing cache for:",a)}else{const e=M.get(a);if((r=e)&&Date.now()-r.timestamp<N){console.log("Returning cached VAST response for:",a);return new q(e.data,!0,e.timestamp)}}var r;if(O.has(a))return console.log("Waiting for pending VAST request for:",a),O.get(a);const s=(async()=>{try{const t=new URL(e);t.searchParams.set(g.NAME,g.VALUE),t.searchParams.set("correlator",(()=>{const e=Math.floor(1e6*Math.random()).toString().padStart(6,"0");return Date.now().toString()+e})());const r=t.toString();console.log("Fetching fresh VAST response from Google Ad Manager URL:",r);const s=await fetch(r,{method:"GET",headers:{Accept:"application/xml, text/xml, */*"},mode:"cors"});if(!s.ok)return console.warn("Failed to fetch VAST response:",s.status,s.statusText),null;const n=await s.text();console.log("Successfully fetched VAST response");const i=Date.now(),o=new q(n,!1,i),l={data:n,timestamp:i,handler:o};return M.set(a,l),o}catch(e){return console.error("Error fetching VAST response:",e),null}finally{O.delete(a)}})();return O.set(a,s),s},V=()=>{M.clear(),O.clear(),console.log("VAST response cache cleared")},H=()=>{const e=Date.now(),t=Array.from(M.values()).filter(t=>e-t.timestamp<N);return{totalEntries:M.size,validEntries:t.length,pendingRequests:O.size,cacheDurationMs:N}};"undefined"!=typeof window&&(window.vastResponseCache={clear:V,stats:H,getAll:()=>Array.from(M.entries())});var W=a(5744),j=a(76647),G=a(57660),J=a(30433),B=a(32483),K=a(76490),Y=a(30073),X=a(7527),Z=a(95884),Q=a(76584),$=a(15673),ee=a(46175),te=a(42215),ae=a(5556),re=a.n(ae),se=a(35124),ne=a(26739),ie=a(53356),oe=a(72150),le=a(73708),ce=a(9033),de=a(72699),pe=a(15147),me=a(23086),ue=a(93855),he=a(21974),ge=a(49256),Ae=a(91018);const ve=({version:e,onNavigate:t,analysisResult:a})=>{const s=(0,ne.Ay)("div")(({theme:e})=>({display:"flex",alignItems:"center",padding:e.spacing(0,1),...e.mixins.toolbar,justifyContent:"flex-end"})),o=[{name:"Home",icon:r.createElement(pe.A,null)},{name:"Source",icon:r.createElement(ce.A,null)},{name:"Issues",icon:r.createElement(oe.A,null)},{name:"Tour",icon:r.createElement(me.A,null)},{name:"Help",icon:r.createElement(de.A,null)}],[c,d]=r.useState(!1),p=(0,ie.A)(),m=()=>{d(!1)},u=a&&Object.keys(a).length>0,h=e=>{const t=document.getElementById(e);t&&setTimeout(()=>{try{const a=120,r=t.getBoundingClientRect(),s=r.top+window.pageYOffset-a,n=window.pageYOffset>0?120:0,i=Math.max(s,n);window.scrollTo({top:i,behavior:"smooth"}),t.setAttribute("tabindex","-1"),t.focus({preventScroll:!0});const o=new URL(window.location);o.hash=e,window.history.pushState({},"",o)}catch(e){console.error("Error scrolling to section:",e)}},150)};return r.createElement(n.A,{sx:{display:"flex"}},r.createElement(W.A,{component:"nav"},r.createElement(l.A,null,r.createElement(B.A,{color:"inherit","aria-label":"open drawer",edge:"start",onClick:()=>{d(!0)}},r.createElement(te.A,null)),r.createElement(se.A,{variant:"h5",component:"div",sx:{flexGrow:1,display:{xs:"none",sm:"block",verticalAlign:"middle"}}},r.createElement("img",{src:"https://raw.githubusercontent.com/google-marketing-solutions/vast-redirect-signal-inspector/main/assets/png/logo_home.png",alt:"Logo",style:{height:"0.7em",width:"auto",verticalAlign:"middle",margin:"0 10px 5px 0"}}),"VAST Signal Inspector v",e,r.createElement("span",{style:{backgroundColor:"#e0e0e0",color:"#333",padding:"2px 5px",borderRadius:"3px",fontSize:"0.7em",marginLeft:"5px"}},"Beta")),r.createElement(n.A,{sx:{display:{xs:"none",sm:"block"}}},o.map(e=>r.createElement(i.A,{key:e.name,sx:{color:"#fff",gap:1},onClick:a=>t(a,e.name)},e.icon,e.name))))),r.createElement(J.Ay,{sx:{width:290,flexShrink:0,display:c?"block":"none","& .MuiDrawer-paper":{width:290,boxSizing:"border-box"}},variant:"persistent",anchor:"left",open:c},r.createElement(s,null,r.createElement(i.A,{onClick:e=>{t(e,"Home"),m()},sx:{marginRight:"auto",textTransform:"none",color:"inherit",fontSize:"1rem",padding:"8px 16px",minHeight:"48px",justifyContent:"flex-start"},startIcon:r.createElement(pe.A,{sx:{fontSize:"1.25rem"}})},"Home"),r.createElement(B.A,{onClick:m},"ltr"===p.direction?r.createElement(le.A,null):r.createElement(j.A,null))),r.createElement(G.A,null),r.createElement(Y.A,null,["VAST URL Score Result","Required Parameters","Required Programmatic Parameters","Recommended Programmatic Parameters","Other Parameters"].map(e=>{const t=e.toLowerCase().replace(/\s+/g,"-"),a=u;return r.createElement(X.Ay,{key:e,disablePadding:!0},r.createElement(Z.A,{disabled:!a,onClick:()=>{a&&h(t)},sx:{opacity:a?1:.5,cursor:a?"pointer":"default"}},r.createElement(Q.A,{sx:{minWidth:"36px"}},(e=>e.startsWith("Required Programmatic")?r.createElement(he.A,{color:"warning"}):e.startsWith("Required")?r.createElement(ue.A,{color:"error"}):e.startsWith("Recommended")?r.createElement(ge.A,{color:"primary"}):r.createElement(Ae.A,{color:"action"}))(e)),r.createElement($.A,{primary:e})))})),r.createElement(G.A,null),r.createElement(Y.A,null,["VAST Response"].map((e,t)=>{const a=u;return r.createElement(X.Ay,{key:e,disablePadding:!0},r.createElement(Z.A,{disabled:!a,onClick:()=>{a&&h("vast-response")},sx:{opacity:a?1:.5,cursor:a?"pointer":"default"}},r.createElement(Q.A,{sx:{minWidth:"36px"}},t%2==0?r.createElement(K.A,null):r.createElement(ee.A,null)),r.createElement($.A,{primary:e})))})),r.createElement(G.A,null),r.createElement(Y.A,null,r.createElement(X.Ay,{disablePadding:!0},r.createElement(Z.A,{onClick:e=>{t(e,"Issues"),m()}},r.createElement(Q.A,{sx:{minWidth:"36px"}},r.createElement(oe.A,null)),r.createElement($.A,{primary:"Issues"}))),r.createElement(X.Ay,{disablePadding:!0},r.createElement(Z.A,{onClick:e=>{t(e,"Help"),m()}},r.createElement(Q.A,{sx:{minWidth:"36px"}},r.createElement(de.A,null)),r.createElement($.A,{primary:"Help"}))))))};ve.propTypes={version:re().string.isRequired,onNavigate:re().func.isRequired,analysisResult:re().shape({requiredParameters:re().array,programmaticRequiredParameters:re().array,programmaticRecommendedParameters:re().array,otherParameters:re().array,vastResponse:re().any})},ve.defaultProps={analysisResult:null};const ye=ve;var fe=a(65624),we=a(88634),Ee=a(24037),xe="KBD4WctN8qbA4EdGcDN4";const _e=({url:e,onChange:t,onAnalyze:a,isAnalyzeDisabled:s})=>r.createElement(n.A,{className:"sJ7VMutiie6ChyD4O_AR",id:"url-input-form"},r.createElement(fe.A,{className:"kRTVNEaPjL9RisrRewKg vast-redirect-url-input",label:"Vast Redirect URL",value:e,variant:"outlined",fullWidth:!0,onChange:t,InputProps:{endAdornment:r.createElement(we.A,{position:"end",className:"gx6nK8Z1aKxzmOBP1oPK"},r.createElement(i.A,{className:"vGq0wY6FOmygyHHd9osi analyze-button",variant:"contained",color:"primary",size:"large",startIcon:r.createElement(Ee.A,null),onClick:a,disabled:s},"Analyze"))}}));_e.propTypes={url:re().string.isRequired,onChange:re().func.isRequired,onAnalyze:re().func.isRequired,isAnalyzeDisabled:re().bool},_e.defaultProps={isAnalyzeDisabled:!1};const be=_e;var Te=a(91799),Se=a(42162),Re=a(66704),Ce=a(71030),Pe=a(70802),Ie=a(70834);const ke=({selectedTagType:e,url:t,showWarning:a,tagTypes:s,exampleUrls:o,onTagTypeChange:l,onExampleClick:d,additionalOptions:p})=>r.createElement(n.A,{className:xe},r.createElement(Te.A,{component:"fieldset",sx:{width:"100%"}},r.createElement(n.A,{sx:{display:"flex",alignItems:"center",justifyContent:"center",flexWrap:"wrap",gap:1}},a&&r.createElement(Ce.A,{title:"Manually selected tag type does not match the automatically detected tag type."},r.createElement(B.A,{"aria-label":"warning",color:"warning"},r.createElement(Pe.A,null))),r.createElement(Re.A,{"aria-label":"vast-tag-type",className:"vast-tag-type-radio-group",name:"vastTagType",value:e,onChange:l,row:!0,sx:{justifyContent:"center"}},Object.values(s).filter(t=>t!==s.UNKNOWN||e===s.UNKNOWN).map(e=>r.createElement(c.A,{key:e,value:e,control:r.createElement(Se.A,null),label:e.replace(/_/g," ").replace(/\b\w/g,e=>e.toUpperCase())}))),r.createElement(i.A,{variant:"outlined",startIcon:r.createElement(Ie.A,null),onClick:d,className:"uFcTiqkDukCCXX9aGTMf",disabled:void 0===o[e]||t===o[e]},"Load Example")),p&&r.createElement(r.Fragment,null,r.createElement(G.A,{sx:{my:2}}),r.createElement(n.A,{sx:{px:2}},p))));ke.propTypes={selectedTagType:re().string.isRequired,detectedTagType:re().string,url:re().string.isRequired,showWarning:re().bool,tagTypes:re().object.isRequired,exampleUrls:re().object.isRequired,onTagTypeChange:re().func.isRequired,onExampleClick:re().func.isRequired,additionalOptions:re().node},ke.defaultProps={showWarning:!1,detectedTagType:"",additionalOptions:null};const De=ke,Le=({selectedType:e,implementationTypes:t,onChange:a})=>r.createElement(n.A,{className:xe},r.createElement(Te.A,{component:"fieldset",sx:{width:"100%"}},r.createElement(se.A,{variant:"body1",sx:{textAlign:"center",marginBottom:.5}},"Implementation Type:"),r.createElement(n.A,{sx:{display:"flex",alignItems:"center",justifyContent:"center",flexWrap:"wrap"}},r.createElement(Re.A,{"aria-label":"implementation-type",className:"implementation-type-radio-group",name:"implementationType",value:e,onChange:a,row:!0,sx:{justifyContent:"center"}},Object.values(t).map(e=>r.createElement(c.A,{key:e,value:e,control:r.createElement(Se.A,null),label:e.replace(/_/g," ").replace(/\b\w/g,e=>e.toUpperCase())}))))));Le.propTypes={selectedType:re().string.isRequired,implementationTypes:re().object.isRequired,onChange:re().func.isRequired};const qe=Le;var Me=a(99198),Oe=a(25985);const Ne=({error:e,errorMessage:t,onErrorClose:a,warning:s,warningMessage:n,onWarningClose:i,showShareSuccess:o,onShareClose:l})=>r.createElement(r.Fragment,null,e&&r.createElement(Oe.A,{open:!0,autoHideDuration:1e4,onClose:a,sx:{width:"100%"}},r.createElement(Me.A,{severity:"error",onClose:a},t||("string"==typeof e?e:"An error occurred"))),s&&r.createElement(Oe.A,{open:!0,autoHideDuration:1e4,onClose:i,sx:{width:"100%"}},r.createElement(Me.A,{severity:"warning",onClose:i},n||("string"==typeof s?s:"A warning occurred"))),o&&r.createElement(Oe.A,{open:!0,autoHideDuration:3e3,onClose:l,anchorOrigin:{vertical:"top",horizontal:"right"}},r.createElement(Me.A,{onClose:l,severity:"success",sx:{width:"100%"}},"Shareable URL copied to clipboard!")));Ne.propTypes={error:re().oneOfType([re().string,re().object]),errorMessage:re().string,onErrorClose:re().func.isRequired,warning:re().oneOfType([re().string,re().object]),warningMessage:re().string,onWarningClose:re().func.isRequired,showShareSuccess:re().bool,onShareClose:re().func.isRequired},Ne.defaultProps={error:null,errorMessage:"",warning:null,warningMessage:"",showShareSuccess:!1};const Fe=Ne,ze=r.lazy(()=>a.e(452).then(a.bind(a,41452))),Ue=({run:e,steps:t,callback:a,showTour:s})=>"undefined"!=typeof window&&window.__disableTour?null:s?r.createElement(r.Suspense,{fallback:null},r.createElement(ze,{run:e,steps:t,continuous:!0,showSkipButton:!0,showProgress:!0,disableOverlayClose:!0,callback:a,styles:{options:{maxWidth:800,zIndex:1e4},tooltip:{minWidth:480,maxWidth:800,fontSize:16,padding:"12px"}},scrollOffset:128})):null;Ue.propTypes={run:re().bool.isRequired,steps:re().array.isRequired,callback:re().func.isRequired,showTour:re().bool},Ue.defaultProps={showTour:!1};const Ve=Ue;var He=a(88854),We=a(16163),je=a(79809);class Ge extends r.Component{constructor(e){super(e)}getScoreColor(e){return e<=0?"danger":e<25?"warning":e<50?"neutral":e<75?"primary":"success"}getProgrammaticRequiredColor(e){return e<=0?"danger":e<25?"warning":e<50?"neutral":e<75?"primary":"success"}getParametersScore(e){const t={completion:0,invalid:0,missing:0,overridden:0,score:0,sdkManaged:0,total:0,valid:0};for(const a of Object.values(e))a.missing?t.missing++:a.invalid?t.invalid++:a.valid&&t.valid++,a.override&&t.overridden++,a.sdkManaged&&t.sdkManaged++,"number"==typeof a.score&&(t.score+=a.score),t.total++;return t.completion=t.total>0?Math.floor(t.valid/t.total*100):0,t}getWeightedScore(e,t,a){if(e.total>0&&e.valid<e.total)return 0;const r=.7*(e.total>0?e.valid/e.total:1)+.2*(t.total>0?t.valid/t.total:1)+.1*(a.total>0?a.valid/a.total:1);return Math.round(100*r)}render(){const{data:e}=this.props,t=e||{};if(!t)return null;const a=this.getParametersScore(t.requiredParameters),s=this.getParametersScore(t.programmaticRequiredParameters),n=this.getParametersScore(t.programmaticRecommendedParameters),i=this.getWeightedScore(a,s,n),o={"--CircularProgress-trackThickness":"14px","--CircularProgress-size":"110px","--CircularProgress-progressThickness":"18px","@media (max-width: 768px)":{"--CircularProgress-trackThickness":"12px","--CircularProgress-size":"95px","--CircularProgress-progressThickness":"15px"},"@media (max-width: 480px)":{"--CircularProgress-trackThickness":"10px","--CircularProgress-size":"80px","--CircularProgress-progressThickness":"12px"}},l={fontWeight:"bold",textAlign:"center",marginTop:1,"@media (max-width: 768px)":{fontSize:"0.9rem"},"@media (max-width: 480px)":{fontSize:"0.8rem"}};return r.createElement(He.A,null,r.createElement(We.A,{container:!0,spacing:2,direction:{xs:"column",sm:"row"},alignItems:"center",justifyContent:"space-evenly",sx:{mb:{xs:2,sm:1},width:"100%"}},r.createElement(We.A,{item:!0,xs:12,sm:6,md:3,sx:{textAlign:"center",mb:{xs:2,sm:0},display:"flex",flexDirection:"column",alignItems:"center"}},r.createElement(je.A,{sx:o,variant:"soft",determinate:!0,value:i,color:this.getScoreColor(i)},i,"%"),r.createElement(se.A,{variant:"h5",sx:l},"Weighted Score")),r.createElement(We.A,{item:!0,xs:12,sm:6,md:3,sx:{textAlign:"center",mb:{xs:2,sm:0},display:"flex",flexDirection:"column",alignItems:"center"}},r.createElement(je.A,{sx:o,variant:"soft",determinate:!0,value:a.completion,color:a.completion<100?"danger":"success"},a.completion,"%"),r.createElement(se.A,{variant:"h5",sx:l},"Required")),r.createElement(We.A,{item:!0,xs:12,sm:6,md:3,sx:{textAlign:"center",mb:{xs:2,sm:0},display:"flex",flexDirection:"column",alignItems:"center"}},r.createElement(je.A,{sx:o,variant:"soft",determinate:!0,value:s.completion,color:this.getProgrammaticRequiredColor(s.completion)},s.completion,"%"),r.createElement(se.A,{variant:"h5",sx:l},"Programmatic")),r.createElement(We.A,{item:!0,xs:12,sm:6,md:3,sx:{textAlign:"center",mb:{xs:2,sm:0},display:"flex",flexDirection:"column",alignItems:"center"}},r.createElement(je.A,{sx:o,variant:"soft",determinate:!0,value:n.completion},n.completion,"%"),r.createElement(se.A,{variant:"h5",sx:l},"Recommended"))),0===i&&a.total>=1&&r.createElement(se.A,{variant:"body2",color:"error",align:"center",className:"JTe5LvZpQph4fNjBgl58"},"The weighted score is 0% because at least one required parameter is missing."))}}Ge.propTypes={data:re().object};const Je=Ge;var Be=a(54026),Ke=a(51361),Ye=a(94963),Xe=a(96120),Ze=a(86700),Qe=a(78828),$e=a(49565),et=a(8862),tt=a(37272),at=a(60539),rt=a(4718),st=a(1407),nt=a(68901);const it=e=>{if(!C)return"";for(const t of C)if(t.name===e)return t.deprecated;return""},ot=e=>{if(!C)return"";for(const t of C)if(t.name===e)return t.description;return""},lt=e=>{if(!C)return"";for(const t of C)if(t.name===e)return t.help;return""},ct=e=>{if(!C)return"";for(const t of C)if(t.name===e)return t.warn;return""},dt=(0,ne.Ay)(Xe.A)(({theme:e})=>({marginBottom:e.spacing(3),boxShadow:e.shadows[3],width:"100%",overflowX:"auto",[e.breakpoints.up("md")]:{maxWidth:"100%"},[e.breakpoints.down("sm")]:{marginBottom:e.spacing(2)}})),pt=(0,ne.Ay)(Ze.A)(({theme:e})=>({backgroundColor:e.palette.primary.main,fontWeight:"bold","& .MuiTableCell-root":{color:e.palette.common.white,[e.breakpoints.down("sm")]:{padding:e.spacing(1,.5),fontSize:"0.75rem"}}})),mt=(0,ne.Ay)(Ye.A)(({theme:e})=>({padding:e.spacing(2),"&.value-cell":{[e.breakpoints.up("md")]:{maxWidth:"60%",width:"60%"},[e.breakpoints.up("lg")]:{maxWidth:"65%",width:"65%"}},[e.breakpoints.down("sm")]:{padding:e.spacing(1,.5),fontSize:"0.75rem"}})),ut=(0,ne.Ay)(Qe.A)(({theme:e})=>({"&:nth-of-type(odd)":{backgroundColor:e.palette.action.hover},[e.breakpoints.down("sm")]:{"& .MuiTypography-root":{fontSize:"0.75rem"}}}));class ht extends r.PureComponent{constructor(e){super(e)}formatPpsjValue=e=>{if("string"==typeof e)return r.createElement(se.A,{variant:"body2",component:"span"},e);try{const t=JSON.stringify(e,null,2);return r.createElement(st.A,{language:"javascript",style:nt.A,customStyle:{margin:0,fontSize:"12px",lineHeight:"1.4",backgroundColor:"#f8f9fa",border:"1px solid #e1e4e8",borderRadius:"4px",maxHeight:"300px"},showLineNumbers:!1,wrapLines:!0,wrapLongLines:!0},t)}catch{return r.createElement(se.A,{variant:"body2",component:"span"},String(e))}};render(){const{params:e,title:t,showDebug:a=!1}=this.props;if(!e)return null;const s=t.toLowerCase().replace(/\s+/g,"-");return r.createElement("div",{id:s,style:{marginBottom:"20px",scrollMarginTop:"100px",position:"relative"},className:`vast-url-parameters vast-url-parameters-${t.toLowerCase().replace(/\s/g,"-")}`},r.createElement(n.A,{sx:{display:"flex",alignItems:"center",gap:1,marginBottom:1}},(i=t).startsWith("Required Programmatic")?r.createElement(he.A,{color:"warning"}):i.startsWith("Required")?r.createElement(ue.A,{color:"error"}):i.startsWith("Recommended")?r.createElement(ge.A,{color:"primary"}):r.createElement(Ae.A,{color:"action"}),r.createElement(se.A,{variant:"h6",sx:e=>({[e.breakpoints.down("sm")]:{fontSize:"1rem"}})},t)),r.createElement("div",{style:{overflowX:"hidden",width:"100%"}},r.createElement(dt,{component:$e.A},r.createElement(Be.A,{size:"small",sx:{width:"100%",tableLayout:{xs:"auto",md:"fixed"},borderCollapse:"collapse"}},r.createElement(pt,null,r.createElement(Qe.A,null,r.createElement(mt,{sx:{width:"25px"}},"Status"),r.createElement(mt,{sx:{width:{xs:"50px",md:"15%"}}},"Parameter"),r.createElement(mt,{sx:{width:"15px"}},"Help"),r.createElement(mt,{className:"value-cell"},"Value"),a&&r.createElement(r.Fragment,null,r.createElement(mt,{sx:{width:"10%"}},"Score"),r.createElement(mt,{sx:{width:"10%"}},"SDK Info")))),r.createElement(Ke.A,null,Object.entries(e).map(([,e])=>r.createElement(ut,{key:e.name,style:{position:"relative"}},r.createElement(mt,{sx:{width:"50px"}},e.exists?e.valid?it(e.name)?r.createElement(Ce.A,{title:"Deprecated: "+it(e.name)},r.createElement(rt.A,{style:{color:"orange"}})):e.accepted?r.createElement(Ce.A,{title:ct(e.name)},r.createElement(rt.A,{style:{color:"orange"}})):e.warning?r.createElement(Ce.A,{title:`Warning: ${e.warning}`},r.createElement(rt.A,{style:{color:"orange"}})):r.createElement(Ce.A,{title:"Valid"},r.createElement(rt.A,{style:{color:"green"}})):e.warning?r.createElement(Ce.A,{title:`Warning: ${e.warning}`},r.createElement(at.A,{style:{color:"orange"}})):r.createElement(Ce.A,{title:"Warning: Invalid"},r.createElement(at.A,{style:{color:"orange"}})):e.override&&"ip"===e.name?r.createElement(Ce.A,{title:"IP address passed via HTTP header (not as URL parameter)"},r.createElement(rt.A,{style:{color:"green"}})):r.createElement(Ce.A,{title:"Missing"},r.createElement(tt.A,{style:{color:"red"}}))),r.createElement(mt,null,r.createElement(Ce.A,{title:ot(e.name)},r.createElement("span",null,e.name)),e.alias&&r.createElement(Ce.A,{title:"Alias"},r.createElement("span",{style:{fontSize:"0.8rem",marginLeft:"5px",color:"#888"}},"(",e.alias,")"))),r.createElement(mt,null,lt(e.name)&&r.createElement("a",{href:lt(e.name),target:"_blank",rel:"noreferrer"},r.createElement(et.A,{style:{fontSize:"1rem",marginLeft:"5px"}}))),r.createElement(mt,{className:"value-cell"},e.override&&"ip"===e.name?r.createElement(se.A,{variant:"body2",component:"span",style:{color:"green",fontStyle:"italic"}},"Passed via HTTP header"):e.value&&"object"==typeof e.value?"ppsj"===e.name?this.formatPpsjValue(e.value):r.createElement(st.A,{language:"javascript",style:nt.A,customStyle:{margin:0,fontSize:"12px",lineHeight:"1.4",backgroundColor:"#f8f9fa",border:"1px solid #e1e4e8",borderRadius:"4px",maxHeight:"300px"},showLineNumbers:!1,wrapLines:!0,wrapLongLines:!0},JSON.stringify(e.value,null,2)):r.createElement(se.A,{variant:"body2",component:"span"},String(e.value||""))),a&&r.createElement(r.Fragment,null,r.createElement(mt,null,void 0!==e.score?e.score:"N/A"),r.createElement(mt,null,(e=>{if(!R)return"";for(const t of R)if(t.name===e)return t.handling;return""})(e.name)||"N/A")))))))));var i}}ht.propTypes={params:re().object,title:re().string.isRequired,showDebug:re().bool},ht.defaultProps={params:null,showDebug:!1};const gt=ht;var At=a(58168),vt=a(17862),yt=a(65341),ft=a(41806);const wt=(0,ne.Ay)("div")(({theme:e})=>({marginBottom:e.spacing(3),boxShadow:e.shadows[3],width:"100%",overflowX:"auto",position:"relative",[e.breakpoints.up("md")]:{maxWidth:"100%"},[e.breakpoints.down("sm")]:{marginBottom:e.spacing(2)}})),Et=(0,ne.Ay)(B.A)(({theme:e})=>({position:"absolute",top:e.spacing(1),right:e.spacing(3),zIndex:10,backgroundColor:e.palette.background.paper,boxShadow:e.shadows[2],"&:hover":{backgroundColor:e.palette.action.hover,boxShadow:e.shadows[4]},"&.copying":{backgroundColor:e.palette.success.light,color:e.palette.success.contrastText}})),xt=({vastResponse:e,onRefresh:t})=>{const[a,s]=(0,r.useState)(0),[o,l]=(0,r.useState)(Date.now()),[c,d]=(0,r.useState)(!1),p=15e3;if((0,r.useEffect)(()=>{const e=setInterval(()=>{l(Date.now())},1e3);return()=>clearInterval(e)},[]),!e)return null;const m=e&&"function"==typeof e.getSummary,u=m?e.getCacheInfo():null,h=m?e.getSummary():null,g=m?e.rawXml:e,A=(()=>{let t=0;m&&e.cacheTimestamp?t=e.cacheTimestamp:a>0&&(t=a);const r=o-t;if(t>0&&r>=p)return{isDisabled:!1,remainingTime:0};const s=t>0&&r<p;return{isDisabled:s,remainingTime:s?Math.ceil((p-r)/1e3):0}})(),v=A.isDisabled,y=A.remainingTime,f=(e,t,a={})=>e?r.createElement(vt.A,(0,At.A)({label:t,size:"small"},a)):null;return r.createElement("div",{id:"vast-response",style:{marginBottom:"20px",scrollMarginTop:"100px"},className:"vast-url-parameters vast-url-parameters-vast-response"},r.createElement(n.A,{display:"flex",justifyContent:"space-between",alignItems:"center",mb:1},r.createElement(se.A,{variant:"h6",sx:e=>({[e.breakpoints.down("sm")]:{fontSize:"1rem",scrollMarginTop:"80px"},[e.breakpoints.up("sm")]:{scrollMarginTop:"100px"},position:"relative",zIndex:1,display:"flex",alignItems:"center",gap:1})},r.createElement(ce.A,null),"VAST Response"),r.createElement(n.A,{display:"flex",alignItems:"center",gap:1},u&&r.createElement(n.A,{display:"flex",alignItems:"center",gap:.5},r.createElement(vt.A,{label:u.isFromCache?`Cached (${u.ageDisplay})`:u.fetchedAt,size:"small",color:u.isFromCache?"info":"success",variant:"outlined",title:u.fullTimestamp})),t&&r.createElement(i.A,{size:"small",variant:"outlined",startIcon:r.createElement(yt.A,null),onClick:()=>{v||(s(Date.now()),t&&t())},disabled:v,title:v?`Please wait ${y} seconds before refreshing again`:"Refresh VAST response (bypass cache) - 15 second cooldown from cache creation"},v?`Wait ${y}s`:"Refresh"))),h&&r.createElement(n.A,{mb:2},r.createElement($e.A,{sx:{p:2,bgcolor:"grey.50"}},r.createElement(se.A,{variant:"subtitle2",gutterBottom:!0},"VAST Summary"),r.createElement(n.A,{display:"flex",flexWrap:"wrap",gap:1},r.createElement(vt.A,{label:`Version: ${h.version||"Unknown"}`,size:"small"}),r.createElement(vt.A,{label:`Ads: ${h.adCount}`,size:"small",color:h.adCount>0?"success":"error"}),r.createElement(vt.A,{label:`Creatives: ${h.creativeCount}`,size:"small"}),r.createElement(vt.A,{label:`Impressions: ${h.impressionCount}`,size:"small"}),f(h.companionAdCount>0,`Companions: ${h.companionAdCount}`,{color:"primary"}),f(h.iconCount>0,`Icons: ${h.iconCount}`,{color:"secondary"}),f(h.iconPrograms?.length>0,`Programs: ${h.iconPrograms.join(", ")}`,{color:"secondary",variant:"outlined"}),f(h.adVerificationCount>0,`Ad Verifications: ${h.adVerificationCount}`,{color:"info"}),f(h.hasOMID,"OMID",{color:"success",variant:"filled"}),f(h.mediaFileCount>0,`Media Files: ${h.mediaFileCount}`),f(h.mediaTypes?.length>0,`Types: ${h.mediaTypes.join(", ")}`,{variant:"outlined"}),f(h.clickThroughCount>0,`Click Through: ${h.clickThroughCount}`,{color:"primary",variant:"outlined"}),f(h.clickTrackingCount>0,`Click Tracking: ${h.clickTrackingCount}`,{color:"primary",variant:"outlined"}),f(h.trackingEventTypes>0,`Event Types: ${h.trackingEventTypes}`),f(h.validationErrors?.length>0,`Errors: ${h.validationErrors.length}`,{color:"error"}),f(h.validationWarnings?.length>0,`Warnings: ${h.validationWarnings.length}`,{color:"warning"})))),r.createElement(wt,{component:$e.A},r.createElement(Ce.A,{title:"Copy VAST response to clipboard"},r.createElement(Et,{size:"small",onClick:async()=>{try{const e="object"==typeof g?JSON.stringify(g,null,2):g||"";await navigator.clipboard.writeText(e),d(!0),setTimeout(()=>{d(!1)},3e3)}catch(e){console.error("Failed to copy to clipboard:",e)}},className:c?"copying":""},r.createElement(ft.A,{fontSize:"small"}))),r.createElement(st.A,{language:(()=>{if("object"==typeof g)return"javascript";const e=g||"";return e.includes("<?xml")||e.includes("<VAST")||e.includes("</")?"xml":e.includes("{")&&e.includes("}")?"javascript":"text"})(),style:nt.A,customStyle:{margin:0,maxHeight:"500px",fontSize:"13px",lineHeight:"1.4",borderRadius:"8px",border:"1px solid #e1e4e8"},showLineNumbers:!0,lineNumberStyle:{minWidth:"3em",paddingRight:"1em",color:"#959da5",borderRight:"1px solid #e1e4e8",backgroundColor:"#f6f8fa"},wrapLines:!0,wrapLongLines:!0},"object"==typeof g?JSON.stringify(g,null,2):g||"")),r.createElement(Oe.A,{open:c,autoHideDuration:3e3,onClose:()=>d(!1),anchorOrigin:{vertical:"bottom",horizontal:"center"}},r.createElement(Me.A,{onClose:()=>d(!1),severity:"success",variant:"filled",sx:{width:"100%"}},"VAST response copied to clipboard!")))};xt.propTypes={vastResponse:re().object,onRefresh:re().func},xt.defaultProps={vastResponse:null,onRefresh:null};const _t=xt;class bt extends r.PureComponent{constructor(e){super(e)}render(){const{data:e,showDebug:t,onRefreshVast:a}=this.props,s=e||{};return r.createElement("div",{style:{maxWidth:"100%",width:"100%",margin:"0 auto"}},r.createElement(gt,{params:s.requiredParameters,title:"Required Parameters",showDebug:t}),r.createElement(gt,{params:s.programmaticRequiredParameters,title:"Required Programmatic Parameters",showDebug:t}),r.createElement(gt,{params:s.programmaticRecommendedParameters,title:"Recommended Programmatic Parameters",showDebug:t}),r.createElement(gt,{params:s.otherParameters,title:"Other Parameters",showDebug:t}),r.createElement(_t,{vastResponse:s.vastResponse,onRefresh:a}))}}bt.propTypes={data:re().object,showDebug:re().bool,onRefreshVast:re().func},bt.defaultProps={data:null,showDebug:!1};const Tt=bt;var St=a(93577);class Rt extends r.Component{constructor(e){super(e),this.handleShareClick=this.handleShareClick.bind(this)}handleShareClick(){const{state:e,onShare:t}=this.props,a=function(e){return(0,v.compressToEncodedURIComponent)(JSON.stringify(e))}(e),r=`${window.location.origin}${window.location.pathname}?data=${a}`;navigator.clipboard.writeText(r).then(()=>{t?t():alert("URL copied to clipboard!")})}render(){const{size:e="medium",disabled:t}=this.props;return r.createElement(Ce.A,{title:"Share analysis state"},r.createElement(i.A,{variant:"outlined",color:"primary",startIcon:r.createElement(St.A,{fontSize:"small"}),className:"share-button",sx:{fontSize:"small"===e?"0.8125rem":"inherit"},onClick:this.handleShareClick,size:e,disabled:t},"small"===e?"Share":"Share Analysis"))}}Rt.propTypes={state:re().object.isRequired,onShare:re().func,disabled:re().bool,size:re().oneOf(["small","medium","large"])};const Ct=Rt,Pt=({analysisResult:e,vastRedirectURL:t,vastTagType:a,implementationType:s,showDebug:i,onShareClick:o,onRefreshVast:l})=>e&&0!==Object.keys(e).length?r.createElement(n.A,{className:"Rs_RSAiBkOSfVMYotLjt"},r.createElement(n.A,{className:"agoVFlPeEXpPztukhIHI"},r.createElement(Ct,{state:{vastRedirectURL:t,vastTagType:a,implementationType:s},onShare:o,disabled:t!==e.url,size:"small"})),r.createElement(n.A,{id:"vast-url-score-result",className:"vast-url-score-result EkIeED1AaaCV6h7NX86q"},r.createElement(n.A,{minHeight:120},r.createElement(Je,{data:e}))),r.createElement(Tt,{data:e,showDebug:i,onRefreshVast:l})):null;Pt.propTypes={analysisResult:re().object,vastRedirectURL:re().string.isRequired,vastTagType:re().string.isRequired,implementationType:re().string.isRequired,showDebug:re().bool,onShareClick:re().func.isRequired,onRefreshVast:re().func},Pt.defaultProps={analysisResult:null,showDebug:!1};const It=Pt,kt="vast-inspector-tour-seen";class Dt extends r.PureComponent{constructor(e){super(e),this.state={vastRedirectURL:"",vastTagType:h.STANDARD,detectedVastTagType:h.UNKNOWN,implementationType:u.WEB,vastParameters:{},analysisResult:null,showShareSnackbar:!1,showDebug:!1,ipViaHttpHeader:!1,error:{present:!1,message:""},warning:{present:!1,message:""},tour:{run:!1,steps:[],show:!1},showInputControls:!0},this.handleAnalyzeClick=this.handleAnalyzeClick.bind(this),this.handleRefreshVast=this.handleRefreshVast.bind(this),this.handleChange=this.handleChange.bind(this),this.validateUrl=this.validateUrl.bind(this),this.handleTagTypeChange=this.handleTagTypeChange.bind(this),this.handleImplementationTypeChange=this.handleImplementationTypeChange.bind(this),this.handleIpViaHttpHeaderChange=this.handleIpViaHttpHeaderChange.bind(this),this.handleToolbarClick=this.handleToolbarClick.bind(this),this.handleExampleClick=this.handleExampleClick.bind(this),this.handleTourCallback=this.handleTourCallback.bind(this),this.handleStartTour=this.handleStartTour.bind(this),this.toggleInputControls=this.toggleInputControls.bind(this)}componentDidMount(){const e=new URLSearchParams(window.location.search);"1"===e.get("debug")&&(this.setState({showDebug:!0}),console.log("Debug mode enabled"));const t=e.get("data"),a=e.get("redirect");if(t){const e=function(e){try{const t=(0,v.decompressFromEncodedURIComponent)(e);return JSON.parse(t)}catch(e){return console.error("Failed to decode shared state",e),null}}(t);e&&e.vastRedirectURL&&(console.log("Use decoded state",e),this.setState({...e},()=>{this.validateUrl(e.vastRedirectURL),this.analysisResult();const t=new URL(window.location.href);t.searchParams.delete("data"),window.history.replaceState({},document.title,t.pathname)}))}else a&&(console.log("Use redirect URL",a),this.setState({vastRedirectURL:a},()=>{this.validateUrl(a),this.analysisResult();const e=new URL(window.location.href);e.searchParams.delete("redirect"),window.history.replaceState({},document.title,e.pathname)}));localStorage.getItem(kt)||"undefined"!=typeof window&&window.__disableTour||this.handleStartTour()}validateUrl(e){if(!e||""===e.trim())return void this.setState({error:{present:!1,message:"",details:null},warning:{present:!1,message:"",details:null},detectedVastTagType:h.UNKNOWN,ipViaHttpHeader:!1});const t=(e=>new f(e).validate())(e),a=t.tagType===h.PAI||t.tagType===h.PAI_PAL;this.setState({error:{present:!t.success,message:t.error_message||"",details:t.error},warning:{present:!!t.warning,message:t.warning_message||"",details:t.warning},detectedVastTagType:t.tagType,vastTagType:t.tagType,ipViaHttpHeader:!!a&&this.state.ipViaHttpHeader})}handleChange(e){const t=e.target.value;this.setState({vastRedirectURL:t,showInputControls:!0},()=>{this.validateUrl(t)})}handleTagTypeChange(e){const t=e.target.value,a=t===h.PAI||t===h.PAI_PAL;this.setState({vastTagType:t,isAnalyzeButtonDisabled:!1,ipViaHttpHeader:!!a&&this.state.ipViaHttpHeader},()=>{this.analysisResult()})}handleImplementationTypeChange(e){this.setState({implementationType:e.target.value},()=>{this.analysisResult()})}handleIpViaHttpHeaderChange(e){this.setState({ipViaHttpHeader:e.target.checked},()=>{this.state.analysisResult&&this.analysisResult()})}handleAnalyzeClick(e){e.preventDefault(),this.setState({showInputControls:!1},()=>{this.analysisResult()})}async handleRefreshVast(){await this.analysisResult(!0)}toggleInputControls(){this.setState(e=>({showInputControls:!e.showInputControls}))}async analysisResult(e=!1){const{vastRedirectURL:t,vastTagType:a,implementationType:r,ipViaHttpHeader:s}=this.state;try{this.setState({isLoading:!0});const n=await(async(e,t,a,r=!1,s={})=>{const n={success:!1,error:null,vastParameters:{},analysisResult:{}},i=new E(e).parse();if(!i.success)return n.error=i.error,n;n.vastParameters=i.params;const o=new L(e,i.params,t,a,s).analyze();if(!o.success)return n.error=o.error,n;try{const t=F(e),a=M.get(t),s=!r&&z(a),n=r&&!s,i=await U(e,n);i&&(o.analysisResult.vastResponse=i)}catch(e){console.warn("Failed to fetch VAST response:",e)}return n.analysisResult=o.analysisResult,n.success=!0,n})(t,a,r,e,{ipViaHttpHeader:s});this.setState({vastParameters:n.success?n.vastParameters:{},analysisResult:n.success?n.analysisResult:{},error:{present:!n.success,message:n.error?n.error.toString():"",details:n.error},warning:n.success?{present:!1,message:"",details:null}:this.state.warning})}catch(e){console.error("Analysis failed:",e),this.setState({error:{present:!0,message:"An unexpected error occurred during analysis.",details:e}})}finally{this.setState({isLoading:!1})}}handleToolbarClick(e,t){e.preventDefault(),"Tour"===t?this.handleStartTour():(e=>{switch(e){case"Home":window.location.href="/vast-redirect-signal-inspector/";break;case"Source":window.open("https://github.com/google-marketing-solutions/vast-redirect-signal-inspector");break;case"Issues":window.open("https://github.com/google-marketing-solutions/vast-redirect-signal-inspector/issues");break;case"Help":window.open("https://support.google.com/admanager/answer/10678356")}})(t)}handleExampleClick(e){e.preventDefault();const{vastTagType:t}=this.state,a=A[t];a&&this.setState({vastRedirectURL:a},()=>{this.validateUrl(a),this.analysisResult()})}handleTourCallback(e){const{status:t,index:a,type:r}=e,{vastRedirectURL:s}=this.state;if("finished"===t||"skipped"===t)localStorage.setItem(kt,"1"),this.setState(e=>({tour:{...e.tour,run:!1}}));else if(0!==a||s)3===a&&"step:after"===r&&setTimeout(()=>{this.analysisResult()},100);else{const e=A[h.STANDARD];this.setState({vastRedirectURL:e},()=>{this.validateUrl(e),this.setState(e=>({tour:{...e.tour,run:!1}}),()=>{setTimeout(()=>this.setState(e=>({tour:{...e.tour,run:!0}})),100)})})}}handleStartTour(){this.state.tour.steps.length?this.setState(e=>({tour:{...e.tour,run:!0,show:!0}})):a.e(603).then(a.bind(a,10603)).then(e=>{this.setState(()=>({tour:{steps:e.default,run:!0,show:!0}}))}).catch(e=>{console.error("Failed to load tour steps:",e)})}shouldShowDetectionWarning(e,t,a){return e&&t&&a&&e!==t}isAnalyzeButtonDisabled(e,t){return!e||t&&Object.keys(t).length>0&&e===t.url}render(){const{analysisResult:e,vastRedirectURL:t,vastTagType:a,detectedVastTagType:s,implementationType:g,ipViaHttpHeader:v,error:y,warning:f,showDebug:w,isAnalyzeDisabled:E,showDetectionWarning:x,tour:_,showShareSnackbar:b,showInputControls:T}=this.state,S=e&&Object.keys(e).length>0?"":"B4kscY9nHQK_VwkfnGU3";return r.createElement(n.A,{className:"V7_CP034xJJ37RMVttO7"},r.createElement(Ve,{run:_.run,steps:_.steps,showTour:_.show,callback:this.handleTourCallback}),r.createElement(Fe,{error:y.present?y.message||!0:null,errorMessage:y.message,onErrorClose:()=>this.setState({error:{present:!1,message:"",details:null}}),warning:f.present?f.message||!0:null,warningMessage:f.message,onWarningClose:()=>this.setState({warning:{present:!1,message:"",details:null}}),showShareSuccess:b,onShareClose:()=>this.setState({showShareSnackbar:!1})}),r.createElement(ye,{version:"2.3.0",onNavigate:this.handleToolbarClick,analysisResult:e}),r.createElement(n.A,{component:"main",sx:{flexGrow:1}},r.createElement(l.A,null),r.createElement(o.A,{maxWidth:"lg",className:`tMLs3NhjuymKuW9Yafw5 ${S}`},r.createElement(n.A,{className:"snb2nNIPo02jp77cgaHR"},r.createElement(be,{url:t,onChange:this.handleChange,onAnalyze:this.handleAnalyzeClick,isAnalyzeDisabled:E}),r.createElement(n.A,{className:"F0Gzn3I2j6ycMNSi6Kyc"},r.createElement(i.A,{variant:"outlined",size:"small",onClick:this.toggleInputControls,startIcon:T?r.createElement(p.A,null):r.createElement(m.A,null),className:"RLApDiJ21ssTeqUmI5fm"},T?"Hide Advanced Analysis Settings":"Show Advanced Analysis Settings")),r.createElement(n.A,{className:"RxgR2oTPgwiWz_VEFvln "+(T?"EWtLapSFSMeshasXiRqz":"u4n28WOhTbQ1WtsTBj2n")},r.createElement(De,{selectedTagType:a,detectedTagType:s,url:t,showWarning:x,tagTypes:h,exampleUrls:A,onTagTypeChange:this.handleTagTypeChange,onExampleClick:this.handleExampleClick,additionalOptions:(a===h.PAI||a===h.PAI_PAL)&&r.createElement(c.A,{control:r.createElement(d.A,{checked:v,onChange:this.handleIpViaHttpHeaderChange,name:"ipViaHttpHeader",color:"primary"}),label:"IP address is passed via HTTP header (not as URL parameter)"})}),r.createElement(qe,{selectedType:g,implementationTypes:u,onChange:this.handleImplementationTypeChange}))),r.createElement(It,{analysisResult:e,vastRedirectURL:t,vastTagType:a,implementationType:g,showDebug:w,onShareClick:()=>this.setState({showShareSnackbar:!0}),onRefreshVast:this.handleRefreshVast}))))}}const Lt=Dt;s.createRoot(document.getElementById("app")).render(r.createElement(r.StrictMode,null,r.createElement(Lt,null)))}},e=>{var t=t=>e(e.s=t);e.O(0,[735],()=>(t(60345),t(40196)));e.O()}]);